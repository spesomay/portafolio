"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[69615,24859],{927222:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let a={kind:"InlineDataFragment",name:"getPinTrackingParamsMap_pin"};a.hash="57357f2b0e006ba81b2f258ce3430e30";let n=a},498896:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetStringifiedCommerceAuxData_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin2"}],type:"Pin",abstractKey:null};a.hash="6016b14b2081c4349ad3f3a910cc2ea7";let n=a},157485:(e,t,i)=>{var a;i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetStringifiedCommerceAuxData_pin2",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:a,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null}],type:"Pin",abstractKey:null};n.hash="4ffad4c63399ee2e54c9a3a86d114984";let r=n},817985:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinCarouselData_pin",selections:[{args:null,kind:"FragmentSpread",name:"usePinDefaultCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"usePinProductCarouselData_pin"}],type:"Pin",abstractKey:null};a.hash="461a57fcc8f7958e3742c217e4cc45a2";let n=a},644566:(e,t,i)=>{var a;i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinDefaultCarouselData_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"736x")'},{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="a3cbf6d55cf89d97d6e04c32195968d9";let r=n},537695:(e,t,i)=>{var a,n;i.r(t),i.d(t,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinProductCarouselData_pin",selections:[{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:n=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"productId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:n,storageKey:null}],type:"Pin",abstractKey:null};r.hash="6588018e2880f2695fc6c4ba45aab606";let s=r},855237:(e,t,i)=>{var a;i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata",selections:[{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:a=[{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:a,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:a,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:a,storageKey:'additionalImagesPerSpec(spec:"736x")'}],type:"RichPinProductMetadata",abstractKey:null};n.hash="b49953855cdc69f6ee2c8d4925149d23";let r=n},901855:(e,t,i)=>{i.d(t,{Hv:()=>o,aX:()=>c,nK:()=>p});var a=i(667294),n=i(616550),r=i(342513),s=i(785893);let{Provider:l,useHook:o}=(0,r.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),d=e=>e&&e.pathname?e.pathname+(e.search||""):"";function u(e,t){let i={action:t.type,location:t.location,match:t.match};if(t.location===e.current?.location)return e;switch(t.type){case"POP":if(e.forward.length>0&&d(e.forward[0].location)===d(i.location))return{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};return{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:i,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:i};default:return e}}function c(){let{current:e,previous:t}=o();return(0,a.useMemo)(()=>e?t.concat(e):t,[e,t])}function p({children:e}){let t=(0,n.k6)(),i=(0,n.TH)(),r=(0,n.$B)(),o={forward:[],current:{action:t.action,location:i,match:r},previous:[]},[d,c]=(0,a.useReducer)(u,o);return(0,a.useEffect)(()=>{let{action:e}=t;c({type:e,location:i,match:r})},[i]),(0,s.jsx)(l,{value:d,children:e})}},485756:(e,t,i)=>{i.d(t,{xR:()=>h,ZP:()=>y,vR:()=>g});var a=i(658583),n=i(622541),r=i(373314),s=i(217058),l=i(353453),o=i(953565);let d={".pinterdev.com":"pinterdev","playhouse-worker-www":"playhouse-worker-www","playhouse-worker-sterling":"playhouse-worker-sterling","playhouse-worker-analytics":"playhouse-worker-analytics"},u=["accounts-oauth.pinterest.com","analytics-latest.pinterest.com","analytics.pinterest.com","canary.pinterest.com","latest.pinterest.com","sss.www.pinterest.com","testing.pinterest.com","testing-k8s.pinterest.com","unknown","www.pinterest.com","www.pinterest.co.kr","www.pinterest.co.uk","www.pinterest.com.au","www.pinterest.com.mx"],c=/www\.pinterest\.[A-Za-z]{2}/,p=/[A-Za-z]{2}\.pinterest\.com/,m=()=>{let e=navigator&&navigator.userAgent.toLowerCase();if(e){if(e.indexOf("googlebot")>-1||e.indexOf("google web preview")>-1||e.indexOf("google page speed insights")>-1)return"google_bot";if(e.indexOf("msnbot")>-1||e.indexOf("bingbot")>-1)return"ms_bot";if(e.indexOf("applebot")>-1)return"apple_bot";if(e.indexOf("yahoo")>-1||e.indexOf("slurp")>-1)return"yahoo_bot";else if(e.indexOf("yandex")>-1)return"yandex"}},g=e=>{let{userAgent:t}=e;if(!t.isMobile&&!t.isTablet)return"desktop";switch(t.platform){case l.RL:return"iphone";case l.GW:return t.isTablet?"android_tablet":"android";case l.s4:return"ipad";default:return"mobile_other"}};function h(e){if(u.indexOf(e)>-1||c.test(e)||p.test(e))return e;for(let t in d)if(Object.prototype.hasOwnProperty.call(d,t)&&e.indexOf(t)>-1)return d[t];return"other"}let _=({moduleName:e,pageType:t,requestContext:i})=>{let l;let d=g(i),u=i.isAuthenticated?"auth":"unauth",c=m(),p=(0,r.Z)(),_=(l=!1,a.U2(n.VL)||(a.t8(n.VL,"1",(0,a.kZ)(n.VL)),l=!0),l),y=document.domain||"unknown";_&&((0,s.My)(`traffic.${d}.${p}.${e}.${u}`),(0,s.My)(`traffic_subdomain.${y}.${p}.${e}.${u}`),(0,s.My)(`traffic_subdomain.${y}.${d}.${p}.${e}.${u}`),(0,s.My)(`traffic_subdomain.${y}.${d}.${u}`),(0,s.My)(`traffic_duplo.${d}.${p}.${e}.${u}`),c&&(0,s.My)(`traffic_bot.${c}.${e}`));let f={domain:h(y),referrer:p??"unknown",platform:d??"unknown",browser:i.userAgent.browserName??"unknown",bot_type:c??"none",page_type:t??"unknown",is_auth:u??"unknown",module:e??"unknown",moduleType:function(e){if(/.*Board(React)?Page(Wrapper)?$/.test(e))return"Board";if(/Closeup|.*Pin(Landing|React)?Page$/.test(e))return"Pin";if("HomePage"===e||"UnauthHomeReactPage"===e||"LoginPage"===e||"Signup"===e)return"Home";if(/.*ProfilePage(Container)?$/.test(e))return"Profile";if("TopicPage"===e||"UnauthTopicPage"===e)return"Topic";if(/.*TodayTab(Feed)?Page$/.test(e))return"TodayTab";if("UnauthTodayArticleFeedPage"===e||"TodayArticleFeedPage"===e)return"TodayArticle";else if(/.*Idea(s)?RootPage$/.test(e))return"IdeasRoot";else if(/.*Idea(s)?(Topic)?Page$/.test(e))return"Ideas";else if(/.*Video(s)?RootPage$/.test(e))return"VideosRoot";else if(/.*Video(s)?(Category)?Page$/.test(e))return"VideosCategory";else if(/.*ShoppingRootPage$/.test(e))return"ShoppingRoot";else if(/.*Shopping(Category)?Page$/.test(e))return"ShoppingCategory";else return"other"}(e??"unknown"),first_visit:_??"unknown"};(0,o.nP)("webapp.traffic",{sampleRate:.1,tags:f}),("google"===p||"other"===p)&&(0,o.nP)(`webapp.traffic.${d}.${p}`,{sampleRate:.1,tags:f})};function y({pageType:e,requestContext:t,route:i}){_({moduleName:{"/":"HomePage","/login":"LoginPage","/pin/:id":"Closeup","/:username":"ProfilePage","/:username/:slug":"BoardPage","/topics/:interest":"TopicPage","/today":"TodayTabPage","/today/:term/:title/:articleId":"TodayArticleFeedPage","/ideas":"IdeasRootPage","/ideas/:interest/:id":"IdeasPage","/videos":"VideosRootPage","/videos/:category/:id":"VideosCategoryPage","/shopping":"ShoppingRootPage","/shopping/:category/:id":"ShoppingCategoryPage"}[i]||"other",pageType:e,requestContext:t})}},263032:(e,t,i)=>{i.d(t,{YS:()=>s,eF:()=>l,m_:()=>r});var a=i(934378),n=i(953565);function r(e,t,i,r,s){let l=new URLSearchParams,o=t.reduce((e,t)=>{if(null!=t){let i=function(e){let t;try{t=decodeURIComponent(e)}catch(i){t=e}t.startsWith("http")?t.startsWith("http://")&&(t=t.replace("http://","https://")):t="https://"+t;try{return new URL(t).origin}catch(a){let i=t.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(i&&i.length>1)return i[1];return e}}(t);return e.add(i)}return e},new Set);l.append(a.NR.SOURCE_EVENT_ID,e??"0"),l.append(a.NR.DESTINATION,JSON.stringify([...o])),l.append(a.NR.EXPIRY,i?a.uV:a.ug),l.append(a.NR.PRIORITY,i?a.NR.CLICK_PRIORITY:a.NR.VIEW_PRIORITY),s&&l.append(a.NR.ADVERTISER_ID,s),r&&l.append(a.NR.CAMPAIGN_ID,r),l.append(a.NR.SOURCE_EVENT_TYPE,i?a.bC:a.Cu);try{let{hostname:e}=new URL(window.location.href);"www.pinterest.com"!==e&&l.append(a.NR.HOSTNAME,e)}catch(e){(0,n.nP)("webapp.arapi.generateARASourceEventURL",{sampleRate:.1,tags:{status:"failed",href:window&&window.location&&window.location.href}})}return"https://www.pinterest.com/attribution_source/?"+l.toString()}async function s(e,t,i,a,s,l,o,d,u){let c;let{appType:p,osType:m}=l||{},g="",h="";if(["Pin","pinImpressions"].includes(e)&&t&&(a||d||u)){(0,n.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"start",appType:p,osType:m}});try{if(!window.document.featurePolicy?.allowsFeature("attribution-reporting")){(0,n.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"skipped",message:"attribution-reporting is not enabled",appType:p,osType:m}});return}g=r(i,[a,d,u],!1,s,o);try{h=new URL(window.location.href).hostname}catch(e){(0,n.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"hostname_parse_failed",href:window&&window.location&&window.location.href}})}if(h&&"www.pinterest.com"!==h)document.createElement("img").setAttribute("attributionsrc",g),(0,n.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"international",appType:p,osType:m,hostname:h}});else if(!(c=await window.fetch(g,{keepalive:!0,attributionReporting:{eventSourceEligible:!0,triggerEligible:!1}})).ok)throw Error("server request failed.");(0,n.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"success",appType:p,osType:m}})}catch(e){(0,n.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"failed",error:e.name,message:e.message,appType:p,osType:m,hostname:h,responseStatus:c&&c.status}})}}else(0,n.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"missing_param",appType:p,osType:m}})}function l(e){if(e){let t=e.toLowerCase();if(t.includes("windows"))return"windows xp"===t?1:"windows vista"===t?2:"windows 7"===t?3:"windows 8"===t?4:12;if(t.includes("mac os"))return 5;if(t.includes("android"))return 7;if(t.includes("ios"))return 6;if(t.includes("ubuntu"))return 8;if(t.includes("chromium os"))return 13}return 0}},860208:(e,t,i)=>{function a(e){return[0,24,21,26].includes(e)}function n({articleType:e,id:t,title:i}){let a=i.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${a}/${t}/`:`/discover/article/${a}/${t}/`}i.d(t,{x:()=>n,y:()=>a})},848264:(e,t,i)=>{i.d(t,{P:()=>h,Z:()=>g});var a,n,r,s,l=i(167912),o=i(207012);let d=void 0!==a?a:a=i(644566),u=({height:e,url:t,width:i})=>({height:e,url:t,width:i}),c=e=>Object.entries(e).reduce((e,[t,i])=>({...e,[t]:i&&u(i)}),{});var p=i(333739),m=i(807023);function g(e){let{childDataKey__DEPRECATED:t}=(0,m.Q)(void 0!==s?s:s=i(817985),e,{useLegacyAdapter:()=>({})}),a=function(e){let t=(0,o.Z)(d,e);return t?.carouselData?{index:t.carouselData.index,carouselId:t.carouselData.entityId,carouselSlots:t.carouselData.carouselSlots?.map(e=>({details:e.details,imageSignature:e.imageSignature,imageSizeMap:{"236x":e.image236x&&{height:e.image236x.height,url:e.image236x.url,width:e.image236x.width},"474x":e.image474x&&{height:e.image474x.height,url:e.image474x.url,width:e.image474x.width},"564x":e.image564x&&{height:e.image564x.height,url:e.image564x.url,width:e.image564x.width},"736x":e.image736x&&{height:e.image736x.height,url:e.image736x.url,width:e.image736x.width}},slotId:e.slotId,title:e.title}))??[]}:null}(t),u=function({pinKey:e,index:t}){let a;return a=null==e?{type:"deprecated",data:null}:"graphqlRef"===e.type?e:{type:"deprecated",data:e.data},(0,p.Zm)(void 0!==r?r:r=i(537695),a,{useGraphQLAdapter:e=>{let a=(e.richMetadata||e.richSummary)?.products?.[0],r=function(e){let t=(0,l.useFragment)(void 0!==n?n:n=i(855237),e);if(!t)return[];let a={},{image236x:r,image474x:s,image564x:o,image736x:d}=t;return[[r,"236x"],[s,"474x"],[o,"564x"],[d,"736x"]].forEach(([e,t])=>{(e??[]).forEach(({canonicalImage:e,imageSignature:i})=>{i&&e&&(a={...a,[i]:{...a[i],[t]:{height:e.height,url:e.url,width:e.width}}})})}),Object.entries(a).map(([e,t])=>({imageSignature:e,imageSizeMap:t}))}(a);return a&&r.length?{carouselId:a.productId,carouselSlots:[{imageSignature:null,imageSizeMap:[["236x",e.image236x],["474x",e.image474x],["564x",e.image564x],["736x",e.image736x]].reduce((e,[t,i])=>({...e,[t]:i&&{height:i.height,url:i.url,width:i.width}}),{})},...r],index:t}:null},useLegacyAdapter:e=>{let i=(e?.rich_metadata||e?.rich_summary)?.products?.[0],a=(i?.additional_images??[]).reduce((e,{canonical_images:t,image_signature:i})=>e.concat(t&&i?[{imageSignature:i,imageSizeMap:Object.keys(t).reduce((e,i)=>t[i]?{...e,[i]:{height:t[i].height,url:t[i].url,width:t[i].width}}:e,{})}]:[]),[]);return e&&i&&a.length?{carouselId:i.id,carouselSlots:[...e.images?[{imageSignature:null,imageSizeMap:c(e.images)}]:[],...a],index:t}:null}}).data}({pinKey:t,index:a?.index});return u?{...u,carouselSlots:u.carouselSlots.map(e=>({...e,details:null,slotId:null,title:null}))}:a}function h({children:e,pinKey:t}){return e(g(t))}},798580:(e,t,i)=>{i.d(t,{Z:()=>o});var a=i(624797);let n=/\/today\/(article|best|trending)\/[\w-]+\/(\d+)/,r=(e,t)=>t?e.substring(t.length).split("/")[0]:e,s=({boardUrl:e,path:t,pinId:i,pinnerUserName:s,search:l,storyPinDataId:o})=>{if(!t)return"";switch(t){case"/":case"/homefeed/":return"UserHomefeedResource";case s&&`/${s}/pins/`:return"UserPinsResource";case s&&`/${s}/`:case/\/_activity\//.test(t)&&t:return"UserActivityPinsResource";case/\/_created\//.test(t)&&t:return o?"UserStoryPinsFeedResource":"UserActivityPinsResource";case/\/_community\//.test(t)&&t:return"UserDiscoveredPinsResource";case/\/_saved\//.test(t)&&t:return"BoardlessPinsResource";case s&&`/${s}/_shopping_list/`:return"ShoppingListFeedResource";case/\/visual-search\//.test(t)&&t:return"VisualLiveSearchResource";case/\/pin\//.test(t)&&t:let d=r(t,"/pin/");if(i!==d)return`RelatedPinFeedResource_${d}`;break;case/\/search\//.test(t)&&t:if(l){let e=(0,a.mB)(l,{shouldDecode:!1}).q||"";return`SearchResource_${e.toLowerCase()}`}break;case/\/categories\//.test(t)&&t:let u=r(t,"/categories/");return`CategoryFeedResource_${u}`;case/\/discover\/topics\//.test(t)&&t:return"CategoryFeedResource";case/\/news_hub\//.test(t)&&t:let c=r(t,"/news_hub/");return`NewsHubDetailsResource_${c}`;case/\/_tools\/more-ideas\//.test(t)&&t:return"BoardContentRecommendationResource";case/\/topics\//.test(t)&&t:let p=r(t,"/topics/");return`TopicFeedResource_${p}`;case/\/source\//.test(t)&&t:let m=r(t,"/source/");return`DomainFeedResource_${m}`;case/\/explore\//.test(t)&&t:let g=r(t,"/explore/");return`SearchResource_${g}`;case e:case!!e&&/\/more_ideas\//.test(t)&&t:return"BoardFeedResource";case e&&t.indexOf(e)>-1&&t:return"BoardSectionPinsResource";case/\/brand_catalog\//.test(t)&&t:return"BrandCatalogFeedResource";case n.test(t)&&t:let h=t.match(n)?.[2]||"unknown";return`TodayArticleFeedResource_${h}`;case/\/today\//.test(t):return"TodayTabResource";case/\story_feed\//.test(t)&&t:if(l){let{feed_type:e,request_params:t}=(0,a.mB)(l);return`StoryFeedResource_${e}_${t}`}}return""},l=e=>{let t=e?.pathname;return t?(t.match(/\/search\//)&&e?.search&&(t+=e.search),t.toLowerCase()):""},o=({boardUrl:e,location:t,pinId:i,pinnerUserName:a,previousHistory:n,storyPinDataId:r,trackingParams:o,trackingParamsMap:d={}})=>{let u,c;if(!i||!o||!t)return;if(!d)return`${o??""}~0`;let{pathname:p,search:m}=t,g=s({boardUrl:e,path:p,pinId:i,pinnerUserName:a,search:m,storyPinDataId:r,trackingParams:o,trackingParamsMap:d}),h=Object.keys(d);if((p||"").startsWith("/pin/")){let e=h.find(e=>"PinResource"!==e);u=e?d[e]:d.PinResource}else u=d[g];return!u&&n&&n.length&&(c=s({boardUrl:e,path:l(n[n.length-1].location),pinId:i,pinnerUserName:a,search:m,storyPinDataId:r,trackingParams:o,trackingParamsMap:d}),u=d[c]),u||(u=`${o||""}~0`),u}},743079:(e,t,i)=>{i.d(t,{DW:()=>r,I:()=>n,oo:()=>a,zI:()=>s});let a=e=>{let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},n=.18,r=(e,t,i)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(i/255)**2.2,s=e=>{let t=e.replace("#",""),i=parseInt(t.substr(0,2),16);return(299*i+587*parseInt(t.substr(2,2),16)+114*parseInt(t.substr(4,2),16))/1e3<155}},525364:(e,t,i)=>{let a;i.d(t,{BE:()=>d,Ih:()=>u,SU:()=>c,sV:()=>o});var n=i(667294),r=i(342513),s=i(785893);let{Provider:l,useHook:o}=(0,r.Z)("View");function d(){return a}function u({children:e,initialState:t={}}){let[i,r]=(0,n.useState)(t),o=(0,n.useCallback)(()=>{a={},(0,n.startTransition)(()=>{r({})})},[]),d=(0,n.useCallback)(e=>{a={...a,...e},(0,n.startTransition)(()=>{r(t=>({...t,...e}))})},[]),u=(0,n.useMemo)(()=>({viewContextData:i,clearViewContextData:o,setViewContextData:d}),[i,d,o]);return(0,s.jsx)(n.Fragment,{children:(0,s.jsx)(l,{value:u,children:e})})}function c(){let{viewContextData:e}=o();return e}},401429:(e,t,i)=>{i.d(t,{Z:()=>h});var a=i(667294),n=i(545007),r=i(587703),s=i(25919),l=i(216167);let o=(e,t,i,a)=>(n,r)=>o=>{if(n&&n.id){let d=l.Z.create(e,{placed_experience_id:n.id,extra_context:{}});switch(t){case"dismissed":d.callDelete().then(()=>{o((0,s.fO)()),i&&a&&i({event_type:a,object_id_str:n.id.toString()})});break;case"completed":d.callUpdate().then(()=>{r||o((0,s.fO)()),i&&a&&i({event_type:a,object_id_str:n.id.toString()})});break;case"viewed":d.callUpdate().then(()=>{i&&a&&i({event_type:a,object_id_str:n.id.toString()})})}}},d=e=>o("UserExperienceCompletedResource","completed",e,6567),u=o("UserExperienceResource","dismissed"),c=e=>o("UserExperienceViewedResource","viewed",e,4503);var p=i(785893);function m(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class g extends a.Component{constructor(...e){super(...e),m(this,"state",{hasCompleted:[],hasDismissed:[]}),m(this,"view",()=>{let{experience:e,isBackendExperience:t,targeting:i,viewExperience:a,viewExperienceObject:n}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",n(e)):i?a(e.placement_id,e.experience_id,i):a(e.placement_id,e.experience_id))}),m(this,"complete",e=>{let{completeExperience:t,completeExperienceObject:i,experience:a,isBackendExperience:n,preventRemoval:r,targeting:s}=this.props,l=e||1;if(a&&!this.state.hasCompleted.includes(a.experience_id)){let{placement_id:e,experience_id:o}=a||{},d=r||2===l;(1===l||d)&&e&&o&&(n?i(a,d):s?t(e,o,d,s):t(e,o,d),this.setState(e=>({hasCompleted:[...e.hasCompleted,o]})))}}),m(this,"dismiss",()=>{let{dismissExperience:e,dismissExperienceObject:t,experience:i,isBackendExperience:a,preventRemoval:n,targeting:r}=this.props,{placement_id:s,experience_id:l}=i||{};i&&!this.state.hasDismissed.includes(l)&&(a?t(i):r?e(s,l,!!n,r):e(s,l,!!n),this.setState(e=>({hasDismissed:[...e.hasDismissed,l]})))}),m(this,"isEligibleExperience",()=>{let{experience:e}=this.props;if(!e)return!1;let{eligibleIds:t,eligibleTypes:i,predicate:a,transitionType:n}=this.props,{experience_id:r,type:s}=e;return t&&t.length?t.includes(r):i&&i.length?i.includes(s):a?a(e):!n||n===s})}componentDidMount(){if(this.props.disableAutoView)return;let{experience:e}=this.props;e&&this.isEligibleExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;let t=e.experience,i=this.props.experience;i&&this.isEligibleExperience()&&(t&&t.experience_id===i.experience_id||this.view())}render(){let{children:e,experience:t,disableAutoView:i}=this.props;return t&&this.isEligibleExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...i?{view:this.view}:Object.freeze({})}):a.Children.only(e):null}}function h(e){let t=(0,n.v9)(({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0)),i=(0,n.I0)(),a=(0,s.be)(),l=(0,s.Am)(),o=(0,s.Ig)(),m=(0,r.Z)();return(0,p.jsx)(g,{...e,completeExperience:(e,t,n,r)=>i(a(e,t,n,!1,{},r)),completeExperienceObject:(e,t)=>i(d(m)(e,t)),dismissExperience:(e,t,a,n)=>i(l(e,t,a,void 0,n)),dismissExperienceObject:e=>i(u(e)),experience:t,viewExperience:(e,t,a)=>i(o(e,t,!1,!1,void 0,a)),viewExperienceObject:e=>i(c(m)(e))})}m(g,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},179370:(e,t,i)=>{i.d(t,{F:()=>p,M:()=>c});var a=i(667294),n=i(545007),r=i(14890),s=i(342513),l=i(25919),o=i(957753),d=i(785893);let{Provider:u,useHook:c}=(0,s.Z)("ExperienceContext");function p({children:e}){let[t,i]=(0,a.useReducer)((e,t)=>{if("MOUNT_PLACEMENT"===t.type)return{...e,mountedPlacements:{...e.mountedPlacements,[t.payload]:!0}};if("UNMOUNT_PLACEMENT"===t.type){let i={...e};return delete i.mountedPlacements[t.payload],delete i.registerdAfterActionPlacements[t.payload],i}return"REGISTER_AFTER_ACTION_PLACEMENT"===t.type?{...e,registerdAfterActionPlacements:{...e.registerdAfterActionPlacements,[t.payload]:!0}}:e},{mountedPlacements:{},registerdAfterActionPlacements:{}}),{mountedPlacements:s,registerdAfterActionPlacements:c}=t,p=(0,n.I0)(),m=(0,n.v9)(e=>e.experiences),g=(0,l.be)(),h=(0,l.Am)(),_=(0,l.Ig)(),y=(0,a.useMemo)(()=>{let e=(0,r.bindActionCreators)({completeExperience:g,dismissExperience:h,fetchAllExperiences:l.fO,fetchAllExperiencesMulti:o.NW,fetchExperienceForPlacements:l.pz,mountPlacement:l.N,triggerExperimentsForPlacement:l.kd,viewExperience:_},p);return{...e,mountPlacement:(t,...a)=>{e.mountPlacement(t,...a),i({type:"MOUNT_PLACEMENT",payload:t})},unmountPlacement:e=>{i({type:"UNMOUNT_PLACEMENT",payload:e})},registerAfterActionPlacement:e=>{i({type:"REGISTER_AFTER_ACTION_PLACEMENT",payload:e})}}},[g,h,p,i,_]),f=(0,a.useMemo)(()=>({experiences:m,mountedPlacements:s,registerdAfterActionPlacements:c,...y}),[m,s,c,y]);return(0,d.jsx)(u,{value:f,children:e})}},619370:(e,t,i)=>{i.r(t),i.d(t,{default:()=>c});var a=i(667294),n=i(883119),r=i(401429),s=i(785893);function l(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class o extends a.PureComponent{constructor(...e){super(...e),l(this,"onScroll",()=>{let{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout(()=>{e(),this.dismissed=!0,this.timer=void 0},3e3))}),l(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){let{anchor:e,text:t,thumbnails:i,idealDirection:a}=this.props,r=i.slice(-3);return(0,s.jsx)(n.J2,{anchor:e,color:"white",idealDirection:a,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,s.jsxs)(n.xu,{alignContent:"center",display:"flex",justifyContent:"between",padding:3,width:"100%",children:[(0,s.jsx)(n.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,s.jsx)(n.xv,{color:"default",weight:"bold",children:t})}),(0,s.jsx)(n.xu,{display:"flex",marginEnd:-2,paddingX:2,children:r.map(e=>(0,s.jsx)(n.xu,{height:60,paddingX:1,width:50,children:(0,s.jsx)(n.zd,{height:60,rounding:2,children:(0,s.jsx)(n.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e))})]})})}}var d=i(76561);function u(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class c extends a.Component{constructor(...e){super(...e),u(this,"dismissRef",(0,a.createRef)()),u(this,"state",{paused:!1}),u(this,"dismissCb",()=>{this.dismissRef.current?.()}),u(this,"handlePulsarClick",(e,t)=>{e?this.setState({paused:!0}):t()})}componentWillUnmount(){let{anchor:e}=this.props;this.timer&&clearTimeout(this.timer),e?.removeEventListener("click",this.dismissCb)}setDefaultPulsarTooltip(e){e.has_pulsar=null==e.has_pulsar||e.has_pulsar,e.has_tooltip=null==e.has_tooltip||e.has_tooltip}getText(e,t,i){return(t&&e.text.replace("{boardName}",t),i)?i(e):e.text}render(){let{anchor:e,customWrapper:t,experienceIds:i,boardTextOverride:l,flyoutSize:u,fontSize:c,hasFullWidthButton:p=!0,idealDirection:m,useMasonryFlyout:g,noClickToDismiss:h,onClickComplete:_,onClickDismiss:y,placementId:f,positionRelativeToAnchor:v,shouldSeeReturnToHomeFeedTooltipEdu:w=!1,shouldTimeoutDismiss:b,showCaret:x,textAlign:P,textOverflow:T,textOverrideFn:I,textWeight:S,customizedComplete:E,pulsarZIndex:k,advertiserId:D,dismissButtonLocation:R,dismissButtonColor:O,dismissButtonMarginTop:C}=this.props,A=t||(({children:e})=>g?(0,s.jsx)(n.mh,{children:e}):e);return(0,s.jsx)(r.Z,{eligibleIds:i,eligibleTypes:[8],placementId:f,targeting:D?{advertiserId:parseInt(D,10)}:null,children:({complete:t,dismiss:i,experience:r})=>{let{display_data:{scroll_to_dismiss:f,scroll_to_dismiss_delay_in_seconds:D=0,...F}}=r,L=f&&e,j=()=>{N(),this.timer||(this.timer=setTimeout(i,1e3*D))},N=()=>{L&&(window.removeEventListener("scroll",j),window.removeEventListener("touchmove",j))},M=()=>{N(),t()};if(L&&(window.addEventListener("scroll",j),window.addEventListener("touchmove",j)),this.setDefaultPulsarTooltip(F),!F.has_pulsar&&!F.has_tooltip)return M(),null;b&&F.disappearTime&&F.disappearTime>0&&(this.timer=setTimeout(()=>(j(),null),F.disappearTime));let K=501041===r.experience_id||505086===r.experience_id;return F.has_tooltip&&!F.has_pulsar&&(this.dismissRef.current=j,e?.addEventListener("click",this.dismissCb)),(0,s.jsxs)(a.Fragment,{children:[F.has_pulsar&&(0,s.jsx)(d.Z,{anchor:e,leftOverride:K?342:void 0,onTouch:()=>this.handlePulsarClick(F.has_tooltip,M),paused:this.state.paused,topOverride:K?-5:void 0,zIndex:k&&k.index()}),F.has_tooltip&&(!F.has_pulsar||this.state.paused)&&(F.thumbnail_urls?(0,s.jsx)(o,{anchor:e,dismiss:j,idealDirection:m||"down",text:F.text,thumbnails:F.thumbnail_urls}):(0,s.jsx)(A,{children:(0,s.jsx)(n.J2,{_deprecatedShowCaret:x,anchor:e,color:"deprecatedBlue",idealDirection:m||"down",onDismiss:h?()=>{}:j,positionRelativeToAnchor:!g&&v,shouldFocus:!1,size:u,children:(0,s.jsxs)(n.xu,{column:12,paddingX:w?5:3,paddingY:3,children:[(0,s.jsxs)(n.xv,{align:"right"===P?"end":P,color:"inverse",overflow:T,size:c,weight:S||"bold",children:[this.getText(F,l,I),F.secondary_cta_link&&(0,s.jsx)(n.xu,{display:"inlineBlock",marginStart:1,children:(0,s.jsx)(n.xv,{color:"inverse",size:c,weight:"bold",children:(0,s.jsx)(n.rU,{display:"inlineBlock",href:F.secondary_cta_link.url,target:"blank",underline:"hover",children:F.secondary_cta_link.text})})})]}),F.sub_text&&(0,s.jsx)(n.xu,{paddingY:2,children:(0,s.jsx)(n.xv,{color:"inverse",size:c,children:F.sub_text})}),(F.dismiss_button_text||F.complete_button_text)&&(0,s.jsxs)(n.xu,{alignItems:"center",display:"flex",justifyContent:R||"start",marginTop:C||2,children:[F.dismiss_button_text&&(0,s.jsx)(n.xu,{column:6,marginEnd:1,children:(0,s.jsx)(n.zx,{color:O||"blue",fullWidth:p,onClick:()=>{y&&y(),j()},size:"md",text:F.dismiss_button_text})}),F.complete_button_text&&(0,s.jsx)(n.xu,{column:F.dismiss_button_text?6:12,children:E?(0,s.jsx)(n.iP,{fullHeight:!0,onTap:()=>{M(),_&&_()},rounding:2,children:(0,s.jsx)(n.xu,{color:"default",dangerouslySetInlineStyle:{__style:{padding:"10px"}},display:"flex",justifyContent:"center",padding:2,rounding:2,children:(0,s.jsx)(n.xv,{color:"shopping",weight:"bold",children:F.complete_button_text})})}):(0,s.jsxs)(n.kC,{justifyContent:"center",children:[F.complete_button_cta_url&&(0,s.jsx)(n.ZP,{color:"white",fullWidth:p,href:F.complete_button_cta_url,onClick:({event:e})=>{e.preventDefault(),e.stopPropagation(),M(),_&&_()},size:"md",target:F.complete_button_cta_url?"blank":null,text:F.complete_button_text}),!F.complete_button_cta_url&&(0,s.jsx)(n.zx,{color:"white",fullWidth:p,onClick:()=>{M(),_&&_()},size:"md",text:F.complete_button_text})]})})]})]})})}))]})}})}}u(c,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},76561:(e,t,i)=>{i.d(t,{Z:()=>o});var a=i(883119),n=i(667294),r=i(785893);let s=(e,t,i,a)=>({horizontalOffset:-(a/2-t/2),verticalOffset:-(i/2-e/2)});function l({anchor:e,children:t,zIndex:i,leftOverride:l,topOverride:o}){let d=(0,n.useRef)(null),[u,c]=(0,n.useState)(0),[p,m]=(0,n.useState)(0),{height:g,width:h}=e.getBoundingClientRect();return(0,n.useEffect)(()=>{let{current:t}=d;if(e&&t){let{height:e,width:i}=t.getBoundingClientRect(),{horizontalOffset:a,verticalOffset:n}=s(g,h,e,i);c(a),m(n)}}),(0,r.jsx)(a.xu,{ref:d,dangerouslySetInlineStyle:{__style:{left:l||u,top:o||p}},"data-test-id":"center-box",position:"absolute",zIndex:i?new a.Ry(i):void 0,children:t})}let o=function(e){let{anchor:t,leftOverride:i,onTouch:n,onMouseEnter:s,paused:o,size:d,topOverride:u,zIndex:c}=e;return t?(0,r.jsx)(l,{anchor:t,leftOverride:i,topOverride:u,zIndex:c,children:(0,r.jsx)(a.iP,{fullWidth:!1,onMouseEnter:s,onTap:({event:e})=>n(e),rounding:"circle",children:(0,r.jsx)(a.o3,{paused:o,size:d})})}):null}},190971:(e,t,i)=>{i.d(t,{c:()=>p});var a=i(667294),n=i(616550),r=i(179370),s=i(96157),l=i(624797),o=i(554786);let d=(e,t)=>((0,s.XU)(e)&&e.state?.from&&(e=e.state.from),(0,s.HV)(e))?t?1000503:1000558:(0,s.En)(e)?t?1000506:1000559:(0,s.L6)(e)?t?1000141:1000494:void 0,u=(e,t)=>{if(t&&(0,s.L6)(e))return 1000564},c=(e,t)=>{if(t){if((0,s.HV)(e))return 1000541;if((0,s.En)(e))return 1000542;if((0,s.L6)(e))return 1000140}else if((0,s.HV)(e))return 1000544;else if((0,s.En)(e))return 1000543;else if((0,s.L6)(e))return 1000540},p=()=>{let{mountPlacement:e,registerdAfterActionPlacements:t}=(0,r.M)(),i=(0,o.HG)(),p=(0,n.TH)();return(0,a.useCallback)((a,n,r)=>{let o;switch(a){case"Save":o=d(p,i);break;case"Download":(0,s.L6)(p)&&(o=i?1000499:1000500);break;case"Clickthrough":o=c(p,i);break;case"NoAction":o=u(p,i)}null!=o&&((0,s.En)(p)&&(n={...n,search_query:(0,l.mB)(p.search)}),null!=o&&(t[o]||(0,s.XU)(p))&&e(o,n,r))},[t,e,p,i])}},259743:(e,t,i)=>{i.d(t,{Z:()=>s});var a=i(422578),n=i(244311),r=i(288088);let s=function(e,t){let i=t[r.G];return i?i[(0,n.getInlineDataFragment)(e).name]:(0,a.readInlineData)(e,t)}},807023:(e,t,i)=>{i.d(t,{Q:()=>s});var a=i(167912),n=i(91402),r=i(333739);function s(e,t,{useLegacyAdapter:i}){if(null==t)return{data:null,childDataKey__DEPRECATED:null};let s=(0,n.j)(t);if("deprecated"===s.type){let{data:t}=s;return null==t?{data:null,childDataKey__DEPRECATED:s}:{data:(0,r.V4)(e,i)(t),childDataKey__DEPRECATED:s}}let l=(0,a.useFragment)(e,s.data);return{data:l,childDataKey__DEPRECATED:{type:"graphqlRef",data:l}}}},666472:(e,t,i)=>{i.d(t,{F:()=>h,Z:()=>g});var a=i(667294),n=i(263032),r=i(214877),s=i(547643),l=i(30378),o=i(5859),d=i(554786),u=i(369708),c=i(953565),p=i(84768);let m={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Notification:{impressionType:"notificationDetailImpressions",idType:"newsIdStr",eventType:4111},NotificationFeed:{impressionType:"notificationFeedImpressions",idType:"newsIdStr",eventType:4110},CuratedBoard:{impressionType:"curatedBoardImpressions",idType:"curatedBoardIdStr",eventType:15555}};function g({carouselData:e,closeupImpressionType:t,closeupNavigationType:i,componentType:g,contextLogData:h,clientTrackingParams:_,elementType:y,impressionAuxFields:f,inImpressionExp:v,impressionType:w,impressionsFramework:b,isPaused:x,loggingId:P,objectIdStr:T,slotIndex:I,trackCarousel:S,viewData:E,viewParameter:k,viewType:D,isPromoted:R,storyPinProductEventData:O,pinData:C}){let{logContextEvent:A}=(0,r.v)(),{logMrcVideoAdEventOnPlay:F}=(0,u.rG)(),L=b||l.Z,j=(0,a.useRef)(null),N=a=>{let r=m[w],s=r.idType,l={clientTrackingParams:_,endTime:a.endTime,[s]:P,slotIndex:I,time:a.startTime,renderDuration:a.endTime-a.startTime,type:t,...f,forcedExit:"removed"===a.forcedExit?0:void 0},o={};if("Pin"===w&&(l={...l,pinCellWidth:j.current?.offsetWidth||0,pinCellHeight:j.current?.offsetHeight||0,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight},f?.chromeAraViewExp&&C&&C.isPromoted)){let{attributionSourceId:e}=C;(0,n.YS)(w,C.isPromoted??null,e??null,C.link??null,C.campaignId??null,f.araAuxData??null,C.advertiserId??null,C.domain??null,C.adDestinationUrl??null),o={is_arapi:!0,attribution_source_id:e||""}}let d={component:g,object_id_str:T,view_type:D,view_data:E||{},view_parameter:k};if(S)e&&S&&A({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...l,..."canonical"===e.type?{carouselDataId:Number(e.carouselId??0),slotIndex:e.index,carouselSlotId:e.carouselSlots?.[e.index??0]&&Number(e.carouselSlots[e.index??0].slotId)}:{carouselDataId:Number(e.id??0),carouselSlotId:e.carousel_slots?.[e.index??0]&&Number(e.carousel_slots[e.index??0].id),slotIndex:e.index}}]},...d,aux_data:{...h,...o}});else{let e={clientTrackingParams:_,event_type:r.eventType,...d,element:y,event_data:{[r.impressionType]:"Story"===w?l:[l],...O?{storyPinProductEventData:O}:{}},aux_data:{closeup_navigation_type:i,...h,...o}};A(e),F(e)}},{expName:M,group:K}=(0,s.Z)({skipActivation:!0}),U=(0,d.ZP)(),Z=(0,p.MM)(),{isAuthenticated:B}=(0,o.B)(),$=(0,a.useCallback)(()=>{try{let{current:e}=j;e instanceof HTMLElement&&(!R||e.getElementsByTagName("img").length>0)&&(L.start(e).onExitViewport(N).setDebugId(P||"unknown"),K&&(0,c.nP)("webapp.masonry.trackImpression",{tags:{callsite:"app_packages_useImpressionTracker",deviceType:U,experimentName:M,group:K,handlerId:Z,isAuthenticated:B,slotIndex:I??"unknown"}}))}catch{window.console.error('Can only track impressions for type "HTMLElement"')}},[j.current]);return(0,a.useEffect)(()=>(v&&!L.inExperiment&&L.setExperimentStatus(!0),x||$(),()=>{let{current:e}=j;e instanceof HTMLElement&&(!R||e.getElementsByTagName("img").length>0)&&L.stop(e)}),[x,$]),j}let h=({children:e,...t})=>e({impressionTrackerRef:g(t)})},307772:(e,t,i)=>{function a(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{Z3:()=>c,LU:()=>p,ZP:()=>m});let n=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,r={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},s={},l={background:"#FF8A8A",transform:"scale(.98)"},o={init:e=>({transform:`scale(${s[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[r.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[r.exit]:l,[r.stopped]:l,[r.paused]:l,[r.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class d{constructor(e){a(this,"setMutationObserver",e=>(this.mutationObserver=e,this)),a(this,"startMutationObserver",e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)}),a(this,"stopMutationObserver",()=>{this.mutationObserver&&this.mutationObserver.disconnect()}),a(this,"handleIntersectionChange",e=>{let t=e.intersectionRatio>0||e.isIntersecting;if(t&&!this.inViewport){let e=Date.now();this.startTime=e,this._debug(r.enter,{startTime:e,node:this.node}),this.enterCallbacks.forEach(e=>e())}else!t&&this.inViewport&&(this._debug(r.exit,!0),this.exitCallbacks.forEach(e=>e(this.toJSON())));this.inViewport=t}),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId=""}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,n&&Object.assign(this.node.style,o.init(e)),this}pause(){return this.inViewport&&(this._debug(r.paused,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this}resume(){if(this.inViewport){let e=Date.now();this._debug(r.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(r.stopped,!0),this.exitCallbacks.forEach(t=>t(this.toJSON(e)))),this}toJSON(e=""){return{startTime:1e6*this.startTime,endTime:1e6*Date.now(),forcedExit:e}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:`${(Date.now()-this.startTime)/1e3} seconds`}}_debug(e,t){if(n)switch(window.console.log(`📌 ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),o[e]&&Object.assign(this.node.style,o[e]),e){case r.flushed:case r.paused:case r.exit:s[this.debugId]=!0}}}function u(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let c=!0,p=!1;class m{constructor(){u(this,"_delegateChange",e=>{e.forEach(e=>{let t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)})}),u(this,"_handleMutations",(e,t)=>{let i=this.mutationObservers.get(t);i&&i.offsetHeight<1&&i&&this.stop(i,"removed")}),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=p,this.observer=new window.IntersectionObserver(this._delegateChange),window.Cypress&&!window.activeImpressions&&(window.activeImpressions=new Map),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){let i=this.activeImpressions.get(e);i&&(i.stop(t),this.mutationObservers.delete(i.mutationObserver),i.stopMutationObserver(),this.activeImpressions.delete(e),window.activeImpressions?.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);return t||(t=new d(e),this.activeImpressions.set(e,t),window.activeImpressions?.set(e,t),this.observer.observe(e),t.setMutationObserver(new window.MutationObserver((e,t)=>this._handleMutations(e,t))),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})),t}pause(e=c){this.paused||(Array.from(this.activeImpressions.values()).forEach(e=>e.pause()),this.paused=!0,this.pausePriority!==p||(this.pausePriority=e))}resume(e=c){(e!==p||this.pausePriority!==c)&&this.paused&&(Array.from(this.activeImpressions.values()).forEach(e=>e.resume()),this.paused=!1,this.pausePriority=p)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){let e=Array.from(this.topObstructions).reduce((e,t)=>{let{bottom:i}=t.getBoundingClientRect();return i>e?i:e},0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce((e,t)=>{let{top:i}=t.getBoundingClientRect();return i<e?i:e},window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){let i={rootMargin:`${-e}px 0px ${-t}px`};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,i),Array.from(this.activeImpressions.values()).forEach(e=>this.observer.observe(e.node)),this.topHeight=e,this.bottomHeight=t}}}},30378:(e,t,i)=>{i.d(t,{Z:()=>a});let a=new(i(307772)).ZP},891162:(e,t,i)=>{i.d(t,{Q6:()=>u,ZP:()=>l,qe:()=>o,yU:()=>d});var a=i(520893);let n=(e,t)=>e.length===t.length&&e.every((e,i)=>e===t[i]),r=e=>e;function s(e,t=n,i=r){return function(a){let n=[];return function(...r){let s=n.find(e=>t(e.args,i(r)));if(s)return s.result;let l=a(...r);return n.push({args:i(r),result:l}),e&&n.length>e&&n.shift(),l}}}let l=s(),o=s(1),d=s(void 0,n,e=>[JSON.stringify(e)]),u=s(0,(e,t)=>e.length===t.length&&e.every((e,i)=>(0,a.Z)(e,t[i])))},456299:(e,t,i)=>{i.d(t,{Z:()=>s}),i(167912);var a,n=i(259743);let r=void 0!==a?a:a=i(927222),s=e=>{let t=(0,n.Z)(r,e),i=null;return t?.trackingParamsMap&&(i=t.trackingParamsMap.reduce((e,t)=>t?.key?{...e,[t.key]:t.data??""}:e,{})),i}},939129:(e,t,i)=>{i.d(t,{e:()=>a,n:()=>n});let a=e=>{switch(e){case"/pin/:id":case"/pin/:id/sent":return"pin_closeup";case"/:username/:slug":return"board";case"/:username":return"other_profile";case"/ideas/:interest/:id":return"topic";default:return null}},n=e=>{let t=[{pattern:"/",name:"homefeed"},{pattern:"/pin/:id",name:"pin_closeup"},{pattern:"/pin/:id/sent",name:"pin_closeup"},{pattern:"/pin/:id/visual-search",name:"flashlight"},{pattern:"/amp/pin/:id",name:"amp"},{pattern:"/today",name:"today"},{pattern:"/search",name:"search_landing_page"},{pattern:"/search/:scope",name:"search_results"},{pattern:"/notifications",name:"notifications"},{pattern:"/settings",name:"settings_landing_page"},{pattern:"/settings/:tab",name:"settings_tab"},{pattern:"/:username/_created",name:"profile_created_tab"},{pattern:"/:username/_saved",name:"profile_saved_tab"},{pattern:"/:username/:slug",name:"board"},{pattern:"/:username",name:"profile"},{pattern:"/ideas/:interest/:id",name:"topic"}].find(t=>{if(!e)return"pathname_invalid";let i=t.pattern.split("/").filter(e=>""!==e),a=e.split("/").filter(e=>""!==e);if(i.length!==a.length)return!1;for(let e=0;e<i.length;e+=1)if(!i[e].startsWith(":")&&a[e]!==i[e])return!1;return!0});return t?t.name:"unknown"}},865611:(e,t,i)=>{i.d(t,{Z:()=>a});let a=e=>e<100?"0-100ms":e<250?"100-250ms":e<500?"250-500ms":e<1e3?"500-1000ms":e<2e3?"1000-2000ms":e<3e3?"2000-3000ms":e<4e3?"3000-4000ms":e<5e3?"4000-5000ms":e<6e3?"5000-6000ms":e<7e3?"6000-7000ms":e<8e3?"7000-8000ms":e<9e3?"8000-9000ms":e<1e4?"9000-10000ms":e<15e3?"10000-15000ms":e<2e4?"15000-20000ms":e<25e3?"20000-25000ms":"25000+ms"},371626:(e,t,i)=>{i.d(t,{Z:()=>a});let a=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";case"CA":return"CA";case"GB":return"GB";case"FR":return"FR";case"DE":return"DE";case"AU":return"AU";case"IN":return"IN";default:return"OTHER"}}},396596:(e,t,i)=>{i.d(t,{Z:()=>a});function a(e){let t=e.split("?")[0]??"";if(!t.startsWith("/pin/"))return null;let i=t.split("/")[3];return i?"feedback"===i||"sent"===i?i:null:"default"}},421715:(e,t,i)=>{i.d(t,{V:()=>r,b:()=>n});let a=e=>e?e.tagName||null!==e.parentElement?"HTML"===e.tagName&&null===e.parentElement?"HTML":"BODY"===e.tagName&&e.parentElement?.tagName==="HTML"?"BODY":e.dataset.layoutShiftBoundaryID||e.dataset.testId?e.dataset.layoutShiftBoundaryID||e.dataset.testId:e.parentElement?a(e.parentElement):"NOT_A_NODE":"DOCUMENT":"NODE_REMOVED",n=e=>{let t=e.attribution.processedEventEntries.find(t=>t.startTime===e.attribution.interactionTime),i=t?t.target:null;return i?a(i):"NODE_REMOVED"},r=e=>e?a(e):"NODE_REMOVED"},575742:(e,t,i)=>{i.d(t,{J:()=>a,Z:()=>n});let a=-1;function n(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},268127:(e,t,i)=>{i.d(t,{Y:()=>m,Z:()=>g});var a,n,r=i(667294);i(167912);var s=i(333739),l=i(807023);let o=void 0!==a?a:a=i(498896),d=void 0!==n?n:n=i(157485),u=e=>{let t=Symbol("SKIP"),i=e=>Object.entries(e).filter(([,e])=>e!==t).reduce((e,[t,i])=>({...e,[t]:i}),{});if("deprecated"!==e.type){let a=e.data;return i({...a.isEligibleForPdp||a.isOosProduct||a.isStaleProduct?{...(()=>{let e=a.richMetadata?.products?.[0];return{carousel_image_count:t,brand_signature:e?.brand?.signature||t,free_shipping_price:e?.shippingInfo?.freeShippingPrice||t,free_shipping_value:e?.shippingInfo?.freeShippingValue||t,num_variants:e?.variantSet?.variants?.length||t,total_dimension_option_count:e?.variantSet?.dimensionMetadata?.length||t,valid_dimension_option_count:t}})(),pin_show_pdp_oos:!!a.isOosProduct||t,pin_show_pdp_stale:!!a.isStaleProduct||t,pin_show_pdp:!!a.isEligibleForPdp||t}:{},pin_is_shop_the_look:!!(a.shoppingFlags?.includes(2)||a.aggregatedPinData?.isShopTheLook)||t,is_available:!!a.shoppingFlags?.includes(1)||t,is_product_pin_v2:!!a.shoppingFlags?.includes(5)||t,is_rich_product_pin:!!a.shoppingFlags?.includes(6)||t,is_organic_product_carousel:t,item_id:(a.richSummary?.products?.[0]||{}).itemId||t,item_set_id:(a.richSummary?.products?.[0]||{}).itemSetId||t,story_pin_id:a.storyPinData?a.storyPinDataId:t})}{let a=e.data;return a?i({...a.is_eligible_for_pdp||a.is_oos_product||a.is_stale_product?{...(()=>{let e=(a.rich_metadata||a.rich_summary)?.products?.[0],i=e?.additional_images?.length?(a.images?1:0)+e.additional_images.length:a.carousel_data?.carousel_slots?.length,n=a.rich_metadata?.products?.[0],r=n?.variant_set?.variants??[];return{carousel_image_count:i||t,brand_signature:n?.brand?.signature||t,free_shipping_price:n?.shipping_info?.free_shipping_price||t,free_shipping_value:n?.shipping_info?.free_shipping_value||t,num_variants:r.length||t,total_dimension_option_count:n?.variant_set?.dimension_metadata?.length||t,valid_dimension_option_count:(n?.variant_set?.dimension_metadata||[]).reduce((e,{name:t,values:i})=>e+(t&&i||[]).filter(e=>r.some(i=>i.dimensions?.[t??""]===e)).length,0)||t}})(),pin_show_pdp_oos:!!a.is_oos_product||t,pin_show_pdp_stale:!!a.is_stale_product||t,pin_show_pdp:!!a.is_eligible_for_pdp||t}:{},pin_is_shop_the_look:!!(a.shopping_flags?.includes(2)||a.aggregated_pin_data?.is_shop_the_look)||t,is_available:!!a.shopping_flags?.includes(1)||t,is_product_pin_v2:!!a.shopping_flags?.includes(5)||t,is_rich_product_pin:!!a.shopping_flags?.includes(6)||t,is_organic_product_carousel:!!(a.shopping_flags?.includes(10)||(a.product_pin_data?.items?.[0]||{}).additional_images)||t,item_id:(a.rich_summary?.products?.[0]||{}).item_id||t,item_set_id:(a.rich_summary?.products?.[0]||{}).item_set_id||t,story_pin_id:a.story_pin_data?a.story_pin_data_id:t}):{}}},c=e=>0===Object.keys(e).length?{}:{commerce_data:JSON.stringify(e)},p=e=>{let{childDataKey__DEPRECATED:t}=(0,l.Q)(o,e,{useLegacyAdapter:e=>({})}),{childDataKey__DEPRECATED:i}=(0,s.Zm)(d,null==t?{type:"deprecated",data:null}:t,{useGraphQLAdapter:e=>e,useLegacyAdapter:e=>e}),a=(0,r.useRef)(i);return(0,r.useEffect)(()=>{a.current=i}),(0,r.useCallback)(e=>c({...e?.default,...u(a.current),...e?.override}),[])},m=({children:e,pinKey:t})=>e(p(t)),g=p},353453:(e,t,i)=>{i.d(t,{GW:()=>n,RL:()=>a,s4:()=>r});let a="ios",n="android",r="ipad"},369708:(e,t,i)=>{i.d(t,{Wr:()=>u,rG:()=>d});var a=i(667294),n=i(214877),r=i(342513),s=i(340523),l=i(785893);let{Provider:o,useHook:d}=(0,r.Z)("VideoPlayer");function u({children:e}){let{logContextEvent:t,logImpression:i}=(0,n.v)(),{checkExperiment:r}=(0,s.F)(),[d,u]=(0,a.useState)(!1),[c,p]=(0,a.useState)([]),[m,g]=(0,a.useState)([]),[h,_]=(0,a.useState)({}),y=r("web_ads_mrc_video_impression").anyEnabled,f=e=>{_(t=>({...t,[e]:!0}))},v=(0,a.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:t}=e.event_data.pinImpressions[0],i=(e.aux_data?.commerce_data||"").includes("story_pin_id");y&&(t||i)&&p(t=>[...t,e].slice(-1e3))}},[y]),w=(0,a.useCallback)(e=>{18===e.eventType&&y&&g(t=>[...t,e].slice(-1e3))},[y]),b=e=>{let{renderDuration:t,time:i}=e.event_data.pinImpressions[0],a=Math.max(t,15e8);return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:i+a,renderDuration:a}]}}},x=e=>{if(e.eventData){let{time:t,endTime:i}=e.eventData,a=Math.max((i??0)-(t??0),15e8);return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:(t??0)+a}}}return null};(0,a.useEffect)(()=>{let e=c.filter(e=>{let{pinIdStr:i}=e.event_data.pinImpressions[0];return!h[i]||!y||(t(b(e)),!1)});e.length!==c.length&&p(e)},[c,y,t,h]),(0,a.useEffect)(()=>{let e=m.filter(e=>{let t=e.eventData?.pinIdStr;if(!t)return!1;if(h[t]&&y){let t=x(e);return t&&i(t),!1}return!0});e.length!==m.length&&g(e)},[m,y,i,h]);let P=(0,a.useMemo)(()=>({captionsEnabled:d,logMrcVideoAdImpressionOnPlay:w,logMrcVideoAdEventOnPlay:v,setCaptionsEnabled:u,setVideoPlayed:f,videosPlayed:h}),[d,v,w,h]);return(0,l.jsx)(o,{value:P,children:e})}},939809:(e,t,i)=>{i.d(t,{Cy:()=>d,HE:()=>u,Mv:()=>r,PR:()=>g,Y4:()=>c,dL:()=>n,fS:()=>p,fv:()=>l,lu:()=>m,qS:()=>o,uc:()=>s});var a=i(666472);let n=e=>{let t=(0,a.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,loggingId:e.loggingId,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Pin",isPaused:e.isPaused,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},r=e=>{let t=(0,a.Z)({impressionAuxFields:{newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},contextLogData:e.auxData||{},impressionType:"Notification",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},s=e=>{let t=(0,a.Z)({impressionAuxFields:{newsType:e.newsType},contextLogData:e.auxData||{},impressionType:"NotificationFeed",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},l=e=>{let t=(0,a.Z)({impressionAuxFields:{...e.impressionData||{}},contextLogData:e.auxData||{},componentType:e.component,isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,impressionType:"Article"});return e.children({impressionTrackerRef:t})},o=e=>{let t=(0,a.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Story",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},d=e=>{let t=(0,a.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"User",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},u=e=>{let t=(0,a.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Interest",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},c=e=>{let t=(0,a.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"TodayArticle",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},p=e=>{let t=(0,a.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Board",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:t})},m=e=>{let t=(0,a.Z)({carouselData:e.carouselData,impressionType:"Pin",loggingId:e.loggingId,slotIndex:e.slotIndex??0,trackCarousel:!0,viewParameter:e.viewParameter||72,viewType:e.viewType||1,isPaused:e.isPaused,contextLogData:e.contextLogData,componentType:e.component,impressionAuxFields:e.impressionAuxFields});return e.children({impressionTrackerRef:t})},g=e=>{let t=(0,a.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"CuratedBoard",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})}},923368:(e,t,i)=>{i.d(t,{Nb:()=>l,Of:()=>o,YO:()=>s,ZP:()=>c,x4:()=>u});var a=i(667294),n=i(891162),r=i(392029);let s=({showProductDetailPage:e,isLargerPane:t,showCloseupContentRight:i})=>e&&t?i?r.Uj:r.zT:1,l=(0,n.qe)(({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:i,showProductDetailPage:a,viewportSize:n,maxWidth:r,descriptionPaneWidth:s,inCommentFooterRedesignExp:l,isCloseupRelatedPinsAboveTheFoldEnabled:o,isCommentThreadExpanded:d,isMediaViewerOpen:u,isPinNoteExpanded:c,isProductDetailsExpanded:p,isShoppingModuleExpanded:m,setIsCommentThreadExpanded:g,setIsMediaViewerOpen:h,setIsPinNoteExpanded:_,setIsProductDetailsExpanded:y,setIsShoppingModuleExpanded:f,stackedCloseupEnabled:v,isInRemoveMagnifyingGlassVariant:w,setAbortNoActionPlacementTimeout:b})=>({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:i,showProductDetailPage:a,viewportSize:n,maxWidth:r,descriptionPaneWidth:s,inCommentFooterRedesignExp:l,isCloseupRelatedPinsAboveTheFoldEnabled:o,isCommentThreadExpanded:d,isMediaViewerOpen:u,isPinNoteExpanded:c,isProductDetailsExpanded:p,isShoppingModuleExpanded:m,setIsCommentThreadExpanded:g,setIsMediaViewerOpen:h,setIsPinNoteExpanded:_,setIsProductDetailsExpanded:y,setIsShoppingModuleExpanded:f,stackedCloseupEnabled:v,isInRemoveMagnifyingGlassVariant:w,setAbortNoActionPlacementTimeout:b})),o={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:r.Gg,pdpCarouselSlotToPaneRatio:1,maxWidth:r.u6,descriptionPaneWidth:r.u6-r.Gg,inCommentFooterRedesignExp:!1,isCloseupRelatedPinsAboveTheFoldEnabled:!1,isCommentThreadExpanded:!1,isMediaViewerOpen:!1,isPinNoteExpanded:!1,isShoppingModuleExpanded:!1,stackedCloseupEnabled:!1,isInRemoveMagnifyingGlassVariant:!1,setAbortNoActionPlacementTimeout:()=>{},setIsMediaViewerOpen:()=>{},setIsShoppingModuleExpanded:()=>{}},d=(0,a.createContext)(o);function u(){let e=(0,a.useContext)(d);if(!e)throw Error("useCloseupContext must be used within CloseupContextProvider");return e}let c=d},392029:(e,t,i)=>{i.d(t,{$T:()=>v,CI:()=>s,Ch:()=>o,ER:()=>f,Gb:()=>d,Gg:()=>n,Hf:()=>T,Ie:()=>g,J6:()=>m,KP:()=>h,Kn:()=>l,O5:()=>w,Uj:()=>u,YE:()=>b,bx:()=>_,cg:()=>x,d2:()=>p,g9:()=>y,iB:()=>I,rv:()=>P,u6:()=>r,zT:()=>c});var a=i(883119);let n=508,r=1016,s=488,l=992,o=672,d=1176,u=.6,c=.84,p=40,m=16,g=72,h=740,_=912,y=32,f=16,v=24,w=2,b=16,x=16,P=1,T=new a.Ry(5),I={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},64819:(e,t,i)=>{function a(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function n(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}i.d(t,{EX:()=>s,N8:()=>n,Qv:()=>r,_f:()=>a,vX:()=>l});let r=(e,t,i=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:i,items:t}});function s(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function l(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},409403:(e,t,i)=>{function a(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:t}}}function n(e,t){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:t}}}function r(e){return{type:"PIN_SAVE",payload:e}}function s(e,t){return{type:"PIN_UNSAVE",payload:{id:e,nodeId:t}}}function l(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function o({id:e,nodeId:t}){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1,nodeId:t}}}function d({id:e,text:t,nodeId:i}){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t,nodeId:i}}}function u({id:e,nodeId:t}){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0,nodeId:t}}}function c({id:e,nodeId:t}){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1,nodeId:t}}}function p(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function m(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}function g({id:e,nodeId:t,resource:i,value:a}){return{payload:{id:e,nodeId:t,resource:i,value:a},type:"UPDATE_PIN_TRACKING_PARAMS_MAP"}}i.d(t,{Er:()=>g,Gb:()=>s,I1:()=>o,Ib:()=>u,Ur:()=>r,Vw:()=>l,b9:()=>p,i0:()=>c,mO:()=>n,q1:()=>d,yR:()=>a,yj:()=>m})},386129:(e,t,i)=>{i.d(t,{Ge:()=>d,JS:()=>s,OF:()=>w,P_:()=>l,Q_:()=>p,b8:()=>m,eR:()=>v,h2:()=>u,h6:()=>c});var a=i(216167),n=i(107366),r=i(666698);function s(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}let l=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),o=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),d=({id:e,orbacSubjectId:t,blockSource:i,blockContext:n,logContextEvent:r})=>async s=>{s(o(e,!0));let l=await a.Z.create("UserBlockResource",{blocked_user_id:e,orbac_subject_id:t,block_source:i,block_context:n}).callCreate().catch(()=>s(o(e,!1)));return r({event_type:54,object_id_str:e}),l},u=(e,t)=>async i=>{i(o(e,!1));let n=await a.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch(()=>i(o(e,!0)));return t({event_type:55,object_id_str:e}),n};function c(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}let p=(e,t)=>()=>a.Z.create("UserStateResource",{state:e,value:t}).callCreate(),m=(e,t,i)=>(a,s)=>{(0,n.Z)({url:"/v3/users/me/",method:"POST"}).then(()=>{i({event_type:48,object_id_str:s().session.userId}),e(),(0,r.Dm)()},t)},g=e=>e>=200&&e<400,h=(e,t="150x150")=>e&&`https://i.pinimg.com/${t}/${e.substring(0,2)}/${e.substring(2,4)}/${e.substring(4,6)}/${e}.jpg`||"",_=async(e,t,i)=>{let n=await a.Z.create("VIPResource",{upload_ids:[e]}).callGet();if(n.resource_response.data[e]){let{status:a,signature:r}=n.resource_response.data[e];"processing"===a||"registered"===a?setTimeout(async()=>{_(e,t,i)},5e3):"succeeded"===a?t(h(r)):i()}else i()},y=(e,t,i,n,r)=>(new FormData().append("img",e),a.Z.create("VIPResource",{type:t}).callCreate().then(t=>{if(t.resource_response.data){let{upload_id:a,upload_url:s,upload_parameters:l}=t.resource_response.data,o=new XMLHttpRequest;o.open("POST",s,!0),o.onload=()=>{g(o.status)?(i(100),_(a,n,r)):r()},o.upload.onprogress=e=>{i(Math.round(100*e.loaded/e.total))};let d=new FormData;for(let e in l)d.append(e,l[e]);d.append("file",e),o.send(d)}},()=>{r()})),f=e=>new Promise((t,i)=>{y(e,"pinimage",()=>{},e=>{t(e)},e=>{i(e)})}),v=e=>new Promise((t,i)=>{"string"==typeof e?e.startsWith("data")&&f(function(e,t=512){let i=e.split(";"),a=i[0].split(":")[1],n=atob(i[1].split(",")[1]),r=[];for(let e=0;e<n.length;e+=t){let i=n.slice(e,e+t),a=Array(i.length);for(let e=0;e<i.length;e+=1)a[e]=i.charCodeAt(e);let s=new Uint8Array(a);r.push(s)}return new Blob(r,{type:a})}(e)).then(e=>t(e)):i("Invalid Image")}),w=e=>()=>(0,n.Z)({url:"/v3/register/exists/",data:{email:e}})},937310:(e,t,i)=>{i.d(t,{Z:()=>a});let a={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",TRIED_IT_FEED:"trieditfeed"}},94816:(e,t,i)=>{i.d(t,{Z:()=>p,o:()=>c});var a=i(667294),n=i(883119),r=i(587703),s=i(515278),l=i(213377),o=i(140017),d=i(149722),u=i(785893);let c="AddPinRep";function p({ctaText:e,handleClick:t,height:i,iconSize:c,textSize:p,component:m}){let g=(0,r.Z)(),h=(0,o.ZP)(),_=(0,d.Z)(),y=(0,s.Z)();return(0,a.useEffect)(()=>{g({event_type:120,component:m??0,element:10643})},[g,m]),(0,u.jsx)(n.xu,{children:(0,u.jsx)(n.Tg,{href:"/pin-builder/",onTap:()=>{if(y){y();return}_.isPartner&&g({event_type:101,component:0,element:10643}),t&&t()},children:(0,u.jsxs)(n.st,{children:[(0,u.jsx)(n.xu,{alignItems:"center",color:"secondary",display:"flex",fit:!0,height:i||l.yF,justifyContent:"center",rounding:2,width:i||void 0,children:(0,u.jsx)(n.xu,{color:"default",height:c||40,rounding:"circle",width:c||40,children:(0,u.jsx)(n.JO,{accessibilityLabel:"",color:"error",icon:"add-circle",inline:!0,size:c||40})})}),(0,u.jsx)(n.xu,{padding:2,children:(0,u.jsx)(n.xv,{color:"subtle",size:p||"300",weight:"bold",children:e||h.bt("Crear Pin", "Create Pin", "label to open create pin modal", undefined, true)})})]})})})}},299351:(e,t,i)=>{i.d(t,{Z:()=>u});var a=i(545007),n=i(282008),r=i(94816),s=i(569785),l=i(883119),o=i(785893);function d({story:e}){let{action:{text:t,url:i},custom_properties:{image:a,image_alt:n}}=e;return(0,o.jsxs)(l.xu,{position:"relative",children:[(0,o.jsx)(l.zd,{height:285,rounding:4,width:228,children:(0,o.jsx)(l.Ee,{alt:n,color:"black",fit:"cover",naturalHeight:2688,naturalWidth:2e3,src:a})}),(0,o.jsx)(l.xu,{bottom:!0,display:"flex",justifyContent:"center",padding:4,position:"absolute",width:228,children:(0,o.jsx)(l.ZP,{color:"white",fullWidth:!0,href:i,text:t})})]})}function u(e){let t=(0,a.v9)(t=>t.desktopStories[e.storyId]);if(!t)return null;switch(t.story_type){case"BUBBLE_ONE_COL":return(0,o.jsx)(n.Z,{bubbles:t.objects,id:e.storyId,referringSource:t.referring_source,slotIndex:e.slot,storyType:t.story_type,title:t.title,viewParameter:e.viewParameter,viewType:e.viewType});case"feed_card_default":case"feed_card_video":return(0,o.jsx)(d,{story:t});case"add_pin":return(0,o.jsx)(r.Z,{});case"board_shop_tool_module":return(0,o.jsx)(s.Z,{storyId:e.storyId});default:return null}}},762240:(e,t,i)=>{i.d(t,{Z:()=>s,d:()=>r});var a=i(827625);let n=e=>JSON.stringify(e.trim().split(",").reduce((e,t)=>{let[i,a]=t.split(":");return i&&a?{...e,[i]:a}:e},{})),r={name:"BoardContentRecommendationResource",options:({collection:e,forceBackendExperiments:t,from_news_id:i,ideasReferrer:a,requestParams:r})=>({type:e.type,id:e.id,force_experiments:t&&n(t),__track__from_news_id:i,__track__referrer:a,request_params:r}),key:"resource"},s=e=>(0,a.jB)(r.name,r.options(e))},569785:(e,t,i)=>{i.d(t,{Z:()=>u});var a=i(667294),n=i(545007),r=i(883119),s=i(214877),l=i(766746),o=i(19447),d=i(785893);function u({storyId:e,isTopVariant:t=!1}){let[i,u]=(0,n.v9)(t=>[t.desktopStories[e],t.boardsections]),c=i?.story_type==="board_shop_tool_module"?i:void 0,{logContextEvent:p}=(0,s.v)(),m=(0,o.S6)(),g=Object.keys(u).length>0;return((0,a.useEffect)(()=>{c&&p({event_type:13,component:15088,view_parameter:3069,view_type:5,aux_data:{board_id:c.aux_fields?.board_id,module_id:c.id}})},[p,c]),c)?(c.objects=c?.objects.map(e=>"pin"===e.type?m(e.id):e),(0,d.jsx)(r.xu,{marginTop:g&&t?11:0,children:(0,d.jsx)(l.default,{component:15088,story:c,storyKey:{type:"deprecated",data:c},surface:"BoardShoppingModule",view:5,viewParameter:3069})})):null}},84768:(e,t,i)=>{i.d(t,{MM:()=>s,uo:()=>l,wH:()=>r});var a=i(342513),n=i(706196);let{Provider:r,useHook:s}=(0,a.Z)("HandlerId");function l(){let e=s();return(0,n.ac)(e).site}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/69615.es_419-f3dc97d2e92de290.mjs.map