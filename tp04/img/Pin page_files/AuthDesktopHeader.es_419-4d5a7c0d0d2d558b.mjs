"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[82952,76594,89087,25831,56144,76667,88690],{876594:(e,t,n)=>{n.d(t,{$Vb:()=>z,$nM:()=>f,BOn:()=>T,BfK:()=>C,Boy:()=>es,CTP:()=>r,CcT:()=>et,DMd:()=>N,E8o:()=>ev,E_l:()=>c,Euu:()=>s,FVr:()=>eT,FjJ:()=>eD,H3M:()=>j,I0I:()=>k,I0k:()=>ea,JTq:()=>O,Ky9:()=>u,LUU:()=>ez,Lg3:()=>eb,LyT:()=>eA,N$G:()=>ek,OOl:()=>eB,O_S:()=>L,PT2:()=>o,Pgj:()=>B,Pv2:()=>I,QzT:()=>eR,RfW:()=>w,S6t:()=>eL,UdT:()=>m,Uor:()=>x,UrY:()=>R,UtA:()=>el,WOK:()=>eo,Wvu:()=>ex,X3q:()=>eh,XxE:()=>d,YCi:()=>ep,Zt2:()=>eM,_SG:()=>ed,_VP:()=>W,_Vp:()=>eS,am:()=>ei,b$4:()=>ee,bJz:()=>ec,cMj:()=>A,ckK:()=>y,ePR:()=>g,efI:()=>U,f05:()=>eu,fpf:()=>eZ,gxR:()=>eO,h5_:()=>eE,h7s:()=>q,hM9:()=>K,hRj:()=>H,hcw:()=>ef,iJi:()=>F,ieP:()=>h,jOL:()=>e_,jRv:()=>i,k95:()=>M,kM5:()=>er,kwM:()=>ey,kz$:()=>Q,lWv:()=>eP,mJW:()=>S,nSl:()=>eg,ni8:()=>P,o7L:()=>E,odg:()=>_,pzk:()=>Z,qO2:()=>X,qx5:()=>$,rP7:()=>l,rhk:()=>v,s2B:()=>V,seF:()=>p,t4R:()=>em,tPA:()=>G,u2Z:()=>eI,u4w:()=>J,uu9:()=>b,vlc:()=>Y,w89:()=>en,wMN:()=>eC,wdt:()=>D,wvI:()=>ew,x_d:()=>a,z5V:()=>ej});let o="var(--color-red-pushpin-50)",i="var(--color-red-pushpin-100)",s="var(--color-red-pushpin-200)",l="var(--color-red-pushpin-300)",a="var(--color-red-pushpin-450)",r="var(--color-red-pushpin-500)",c="var(--color-red-pushpin-600)",u="var(--color-red-pushpin-700)",d="var(--color-red-pushpin-800)",h="var(--color-pink-flaminglow-0)",_="var(--color-blue-skycicle-100)",p="var(--color-blue-skycicle-500)",m="var(--color-blue-skycicle-900)",g="var(--color-teal-spabattical-100)",f="var(--color-green-matchacado-900)",x="var(--color-purple-mysticool-100)",b="var(--color-purple-mysticool-200)",v="var(--color-purple-mysticool-300)",y="var(--color-purple-mysticool-500)",w="var(--color-orange-firetini-50)",j="var(--color-yellow-caramellow-50)",A="var(--color-white-mochimalist-0)",P="var(--color-gray-roboflow-50)",k="var(--color-gray-roboflow-100)",S="var(--color-gray-roboflow-200)",C="var(--color-gray-roboflow-300)",z="var(--color-gray-roboflow-400)",T="var(--color-gray-roboflow-500)",I="var(--color-gray-roboflow-600)",Z="var(--color-gray-roboflow-700)",L="var(--color-black-cosmicore-900)",E="var(--color-transparent)",R="var(--color-text-subtle)",B="var(--color-text-inverse)",M="var(--color-background-default)",O="var(--color-background-info-base)",D="var(--color-background-info-weak)",N="var(--color-background-error-base)",H="var(--color-background-warning-base)",F="var(--color-background-success-base)",U="var(--color-background-recommendation-weak)",$="var(--color-background-shopping)",W="var(--color-background-secondary-base)",q="var(--color-background-inverse-base)",V="var(--color-background-wash-light)",Y="var(--color-background-box-default)",J="var(--color-background-box-info-base)",G="var(--color-background-box-info-weak)",K="var(--color-background-box-error-base)",X="var(--color-background-box-error-weak)",Q="var(--color-background-box-warning-base)",ee="var(--color-background-box-warning-weak)",et="var(--color-background-box-success-base)",en="var(--color-background-box-success-weak)",eo="var(--color-background-box-recommendation-base)",ei="var(--color-background-box-recommendation-weak)",es="var(--color-background-box-shopping)",el="var(--color-background-box-primary)",ea="var(--color-background-box-secondary)",er="var(--color-background-box-tertiary)",ec="var(--color-background-box-selected)",eu="var(--color-background-box-inverse)",ed="var(--color-background-box-brand)",eh="var(--color-background-box-education)",e_="var(--color-background-box-elevation-accent)",ep="var(--color-background-box-elevation-floating)",em="var(--color-background-box-elevation-raised)",eg="var(--color-background-box-lightwash)",ef="var(--color-background-box-darkwash)",ex="var(--color-background-box-transparentdarkgray)",eb="var(--color-background-box-dark)",ev="var(--color-background-box-light)",ey="var(--color-background-box-transparent)",ew="var(--color-background-formfield-primary)",ej="var(--color-border-container)",eA="var(--color-border-error)",eP="var(--color-data-visualization-10)",ek="var(--color-data-visualization-11)",eS="var(--color-data-visualization-12)",eC="var(--color-data-visualization-01)",ez="var(--color-data-visualization-02)",eT="var(--color-data-visualization-03)",eI="var(--color-data-visualization-04)",eZ="var(--color-data-visualization-05)",eL="var(--color-data-visualization-06)",eE="var(--color-data-visualization-07)",eR="var(--color-data-visualization-08)",eB="var(--color-data-visualization-09)",eM="var(--font-size-100)",eO="var(--font-family-default-latin)",eD="var(--elevation-raised-top)"},395980:(e,t,n)=>{var o,i;n.r(t),n.d(t,{default:()=>l});let s={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BadgeManagerMutation",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3DeleteBadgeMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],type:"V3DeleteBadge",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"BadgeManagerMutation",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3DeleteBadgeMutation",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3DeleteBadge",abstractKey:null}],storageKey:null}]},params:{id:"b02365b27ce69f648cde539398a9bef3c506f5fcd3fbadc974256de04ec86078",metadata:{},name:"BadgeManagerMutation",operationKind:"mutation",text:null}};s.hash="ba7787ee8344e34b151f6a5f633c4170";let l=s},334589:(e,t,n)=>{n.d(t,{Z:()=>o});function o(e){return e?"/pin-creation-tool/":"/idea-pin-builder/"}},406718:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(340523),i=n(554786),s=n(149722),l=n(785059),a=n(199677);function r(e){let t,n;let r=(0,i.HG)(),{checkExperiment:c}=(0,o.F)(),u=(0,l.Z)(),d=(0,s.Z)(),h=(0,a.lJ)(d,u);r?(t=c("web_sce_organic_pinbuilder_dep").anyEnabled,n=c("web_sce_monetized_pinbuilder_dep").anyEnabled):(t=c("mweb_sce_organic_pinbuilder_dep").anyEnabled,n=c("mweb_sce_monetized_pinbuilder_dep").anyEnabled);let _=c("uid_sce_lightswitch_advertisers").anyEnabled;return!h&&((e&&(c("sce_lightswitch_organic"),c("sce_lightswitch_monetized")),r)?!!(t||n||_):t||n)}},705079:(e,t,n)=>{n.d(t,{Z:()=>es});var o=n(667294),i=n(616550),s=n(883119),l=n(342513),a=n(510989),r=n(608516),c=n(785893);let u=(0,o.lazy)(()=>n.e(79337).then(n.bind(n,879337))),{Provider:d}=(0,l.Z)("LinkedBusinessAccountConfirmationModal");function h({children:e,onDismiss:t}){let[n,i]=(0,o.useState)(!1),s=(0,o.useMemo)(()=>({showLinkedBusinessAccountConfirmationModal:()=>{i(!0)}}),[]);return(0,c.jsxs)(o.Fragment,{children:[(0,c.jsx)(d,{value:s,children:e}),n&&(0,c.jsx)(a.Z,{name:"SafeSuspense_LinkedBusinessAccountConfirmationModalContextProvider_LinkedBusinessAccountConfirmationModal",children:(0,c.jsx)(r.Z,{children:(0,c.jsx)(u,{onDismiss:()=>{i(!1),t()}})})})]})}var _=n(619370),p=n(140017),m=n(339001);let g=()=>{let e=(0,p.ZP)();return(0,c.jsx)(s.he,{iconAccessibilityLabel:e.bt("Mensaje de información", "Info message", "header.accountsOptionsMenu.info.icon", undefined, true),message:(0,c.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,m.nk)(e.bt("Acceso para empresas {{ isNow }} Business Manager {{ restOfMsg }}", "Business Access {{ isNow }} Business Manager {{ restOfMsg }}", "header.accountsOptionsMenu.newEntryPtBold", undefined, true),{isNow:(0,c.jsx)(s.xv,{inline:!0,children:e.bt("ahora es", "is now", "header.accountsOptionsMenu.newEntryPtIsNow", undefined, true)}),restOfMsg:(0,c.jsx)(s.xv,{inline:!0,children:e.bt("y puedes encontrarlo en el menú desplegable Empresa.", "and can now be found in the Business drop-down menu.", "header.accountsOptionsMenu.newEntryPtRestOfMsg", undefined, true)})})}),type:"info"})};var f=n(214877),x=n(515278),b=n(654960),v=n(434593);function y(){let e=(0,p.ZP)();return{addAccount:{value:"add-account",label:e.bt("Agregar cuenta", "Add account", "header.accountsOptionsMenu.addSecondaryAccountButton", undefined, true)},businessAccess:{value:"business-access",label:e.bt("Acceso para empresas", "Business Access", "Link to business Access Landing Page", undefined, true)},businessAccount:e=>({value:`business-account-${e.id}`,label:e.username}),contentClaiming:{value:"content-claiming",label:e.bt("Portal de reclamación de contenido", "Content claiming portal", "header.accountsOptionsMenu.contentManagementPortal", undefined, true)},convertToBusiness:{value:"convert-to-business",label:e.bt("Convertir en cuenta para empresa", "Convert to business", "header.accountsOptionsMenu.addAccountButton", undefined, true)},currentAccount:{value:"current-account",label:e.bt("Cuenta actual", "Current account", "SwitchAccountsList.CurrentlyInItem", undefined, true)},failedAccount:{value:"failed-account",label:e.bt("No se pudo iniciar sesión en esta cuenta", "Failed to log into this account", "header.accountsOptionsMenu.failedAccountItem", undefined, true)},getHelp:{value:"get-help",label:e.bt("Centro de asistencia", "Help center", "header.accountsOptionsMenu.helpCenter.label", undefined, true)},homefeedTuner:{value:"homefeed-tuner",label:e.bt("Herramienta para configurar el feed de inicio", "Home feed tuner", "header.accountsOptionsMenu.homefeedTuner.label", undefined, true)},installApp:e=>({value:"install-app",label:e}),lbaAccountSwitch:e=>({value:`lba-account-switch-${e.id}`,label:e.username}),logOut:{value:"log-out",label:e.bt("Salir", "Log out", "header.accountsOptionsMenu.logout", undefined, true)},parentAccount:e=>({value:`parent-account-${e.id}`,label:e.username}),termsOfService:{value:"tos-policy",label:e.bt("Condiciones del servicio", "Terms of service", "header.accountsOptionsMenu.termsOfService.label", undefined, true)},privacyPolicy:{value:"privacy-policy",label:e.bt("Política de privacidad", "Privacy policy", "header.accountsOptionsMenu.privacyPolicy.label", undefined, true)},reportsAndViolationsCenter:{value:"reports-and-violations-center",label:e.bt("Centro para denuncias e infracciones", "Reports and violations center", "header.accountsOptionsMenu.reportsAndViolationsCenter", undefined, true)},reportBug:{value:"report-bug",label:e.bt("Reportar un error", "Report a bug", "header.accountsOptionsMenu.reportBug", undefined, true)},settings:{value:"settings",label:e.bt("Configuración", "Settings", "header.accountsOptionsMenu.settings", undefined, true)},settingsPrivacy:{value:"settingsPrivacy",label:e.bt("Tus derechos de privacidad", "Your privacy rights", "header.accountsOptionsMenu.settingsPrivacy.label", undefined, true)},adsSupport:{value:"ads-support",label:e.bt("Ayuda sobre los anuncios", "Ads support", "header.accountsOptionsMenu.adsSupport", undefined, true)},requestFeature:{value:"request-a-feature",label:e.bt("Solicitar una función", "Request a feature", "header.accountsOptionsMenu.requestAFeature", undefined, true)},pinterestTvStudio:{value:"pinterest-tv-studio",label:e.bt("Pinterest TV Studio", "Pinterest TV Studio", "Link to Pinterest Tv Creator Studio", undefined, true)},betaTester:{value:"be-a-beta-tester",label:e.bt("Sé un evaluador beta", "Be a beta tester", "header.accountsOptionsMenu.beBetaTesterProgram", undefined, true)},teenSafetyResources:{value:"teen-safety-resources",label:e.bt("Recursos de seguridad para adolescentes", "Teen safety resources", "header.accountsOptionsMenu.teenSafetyResources", undefined, true)}}}var w=n(991326),j=n(404891),A=n(610954),P=n(42068),k=n(340523),S=n(757640),C=n(702497),z=n(858128),T=n(149722),I=n(29156),Z=n(587703),L=n(805783),E=n(308548),R=n(427514),B=n(286318);let M=["chrome","windows"];var O=n(930837);let D=(0,n(832853).Z)(()=>n.e(73669).then(n.bind(n,984471)),void 0,"app-www-ReportBug-ReportBug"),{Provider:N,useHook:H}=(0,l.Z)("reportBugModalContext");function F({children:e}){let t=(0,p.ZP)(),[n,i]=(0,o.useState)(!1),s=(0,T.Z)(),l=(0,o.useCallback)(()=>{i(!0)},[]),r=(0,o.useMemo)(()=>({handleShowReportBugModal:l}),[l]);return(0,c.jsxs)(o.Fragment,{children:[(0,c.jsx)(N,{value:r,children:e}),n&&s.isAuth&&(0,c.jsx)(O.ZP,{accessibilityModalLabel:t.bt("Reportar error", "Report bug", "header.accountsOptionsMenu.logout", undefined, true),onDismiss:()=>{i(!1)},children:(0,c.jsx)(a.Z,{name:"SafeSuspense_ReportBugModal_ReportBug",children:(0,c.jsx)(D,{onDismiss:()=>{i(!1)},username:s.username})})})]})}function U({failedAccount:e,handleReauthAccount:t,handleRemoveUnauthAccount:n}){let i=(0,p.ZP)();return(0,c.jsxs)(o.Fragment,{children:[(0,c.jsx)(s.xu,{marginTop:4,children:(0,c.jsx)(s.zx,{color:"red",fullWidth:!0,onClick:t,text:i.bt("Volver a iniciar sesión", "Log in again", "header.accountsOptionsMenu.failedAccountLoginButton", undefined, true)})}),(0,c.jsx)(s.xu,{marginTop:3,children:(0,c.jsx)(s.zx,{fullWidth:!0,onClick:()=>n(e.id),text:i.bt("Eliminar cuenta", "Remove account", "header.accountsOptionsMenu.failedAccountRemoveButton", undefined, true)})})]})}var $=n(598228),W=n(222881);function q({anchor:e,onDismiss:t,advertiser:n,showAccountSwitcher:i,showAdsSupportOption:l,isWwwSite:a,isPersistentArrUpsellEnabled:r}){let u=(0,T.Z)(),d=(0,p.ZP)(),{failedAccount:h,fetchedUserAccounts:_,handleAccountRepClick:m,handleLinkedAccountSwitch:O,handleReauthAccount:D,handleRemoveUnauthAccount:N}=(0,j.Z)(t,a),F=y(),q=_.find(e=>e.id===(u.isAuth&&u.id)),V=u.isAuth&&u.partner?.is_linked_business,{yourAccount:Y,moreOptions:J}=function({onDismiss:e,advertiser:t,showAdsSupportOption:n,isWwwSite:i,isPersistentArrUpsellEnabled:l}){let{id:a,isAuth:r,isEmployee:u,isLimitedLogin:d,isPartner:h,partner:_,teenSafetyOptionsUrl:m}=(0,T.Z)(),O=(0,p.ZP)(),{logContextEvent:D}=(0,f.v)(),{isLoaded:N,data:F}=(0,S.Z)({name:"ApiResource",options:{url:"/v3/users/me/",data:{fields:"user.content_claiming_access"}}}),{isLoaded:U,data:$}=(0,S.Z)({name:"UserSettingsResource"}),{content_claiming_access:W=!1}=F||{},{handleShowReportBugModal:q}=H(),V=(0,w.Z)(),Y=function(){let e=(0,p.ZP)(),t=(0,o.useContext)(B.Z),n=(0,L.kM)(window,t),i=(0,Z.Z)(),s=e=>{i({component:247,element:e,event_type:101})},l=(0,R.Z)(e.bt("Instalar la aplicación de {{appName}}", "Install the {{appName}} app", "header.accountsOptionsMenu.installApp", undefined, true),{appName:(0,E.Z)(n)});return M.includes(n)?{onClick:()=>{if("windows"===n)s(11409),(0,I.Z)(`${C.TMP}&cid=flyout_cta`,!0);else if("chrome"===n&&t){let e=t();e&&(s(11410),e.prompt())}},text:l}:null}(),{checkExperiment:J}=(0,k.F)(),G=!!r&&h,K=r&&!!m,X=!!r&&!d,Q=(0,x.Z)(),{fetchedUserAccounts:ee,handleAccountRepClick:et,handleAddSecondaryAccount:en,handleClick:eo,handleLinkedAccountSwitch:ei,handleUnlockBusinessTools:es,isLoading:el,showUnlockBusinessTools:ea}=(0,j.Z)(e,i),er=y(),{anyEnabled:ec}=J("digital_services_act_portal"),eu=ee.filter(e=>!e.partner&&!(e.owners||[]).length||e.partner&&!e.partner.isLinkedBusiness),ed=ee.find(e=>e.id===(r&&a));r&&_?.is_linked_business&&(eu=eu.sort(e=>ed?.owners?.some(t=>t.id===e.id)?-1:1));let eh=U&&(!$?.opt_in_private_account||$.opt_in_private_account&&(eu.length>1||1===eu.length&&eu[0].businesses.length>0)),e_=el&&(0,c.jsx)(A.Z,{}),ep=ed?.businesses?.length?ed.businesses.map(e=>a!==e.id&&(0,c.jsx)(s.Lt.Item,{dataTestId:"lba-account-switch-option",onSelect:()=>ei(e,ed.id),option:er.lbaAccountSwitch(e),children:(0,c.jsx)(v.Z,{user:e},e.id)},e.id)):null,em=eu.map(e=>e.id!==(r&&a)?[(0,c.jsx)(s.Lt.Item,{onSelect:()=>et(e),option:er.parentAccount(e),children:(0,c.jsx)(v.Z,{isCurrentAccount:(r&&a)===e.id,user:e})},e.id),...e?.businesses?.length?e.businesses.map(t=>a!==t.id&&(0,c.jsx)(s.Lt.Item,{dataTestId:"lba-account-switch-option",onSelect:()=>ei(t,e.id),option:er.businessAccount(t),children:(0,c.jsx)(v.Z,{user:t},t.id)},t.id)):[]]:null),eg=i&&(0,c.jsx)(s.Lt.Item,{dataTestId:"header-menu-add-account",onSelect:en,option:er.addAccount}),ef=(0,c.jsx)(s.Lt.Item,{dataTestId:"header-menu-add-account",onSelect:en,option:er.addAccount}),ex=ea&&(0,c.jsx)(s.Lt.Item,{dataTestId:"header-menu-business-account",onSelect:es,option:er.convertToBusiness}),eb=N&&W&&(0,c.jsx)(s.Lt.Link,{href:"/content-claiming",onClick:()=>eo(13606),option:er.contentClaiming}),ev=r&&!!u&&(0,c.jsx)(s.Lt.Item,{onSelect:()=>{q(),eo(13607),e()},option:er.reportBug}),ey=(0,c.jsx)(s.Lt.Link,{dataTestId:"header-menu-options-settings",href:X?`https://${(0,b.Z)()}/settings`:"",onClick:({event:e})=>{if(Q){e.stopPropagation(),Q();return}eo(247)},option:er.settings,children:l&&(J("dweb_google_connect_persistent_banner_v2").anyEnabled||J("dweb_password_set_persistent_banner_v2").anyEnabled)&&(0,c.jsxs)(s.kC,{children:[(0,c.jsx)(s.xv,{weight:"bold",children:"Settings"}),(0,c.jsx)(s.kC,{direction:"column",justifyContent:"center",children:(0,c.jsx)(s.xu,{marginStart:2,children:(0,c.jsx)(z.Z,{height:8,width:8})})})]})}),ew=J("aid_exp_business_manager_dropdown_entrypoint").anyEnabled,ej=null;G&&(ej=ew?(0,c.jsx)(g,{}):(0,c.jsx)(s.Lt.Link,{dataTestId:"header-menu-options-business-access",href:`https://${(0,b.Z)()}/business/business-access/`,onClick:()=>eo(11719),option:er.businessAccess}));let eA=(0,c.jsx)(s.Lt.Link,{href:X?"/edit":"",onClick:({event:e})=>{if(Q){e.stopPropagation(),Q();return}eo(11345)},option:er.homefeedTuner}),eP=!G&&Y?(0,c.jsx)(s.Lt.Item,{onSelect:()=>{Y.onClick(),e()},option:er.installApp(Y.text)}):null,ek=(0,c.jsx)(s.Lt.Link,{dataTestId:"header-menu-options-privacy",href:X?`https://${(0,b.Z)()}/settings/privacy`:"",onClick:({event:e})=>{if(Q){e.stopPropagation(),Q();return}eo(13334)},option:er.settingsPrivacy}),eS=ec?(0,c.jsx)(s.Lt.Link,{href:X?"/reports-and-violations":"",onClick:({event:e})=>{if(Q){e.stopPropagation(),Q();return}eo(14618)},option:er.reportsAndViolationsCenter}):null,eC=K?(0,c.jsx)(s.Lt.Link,{href:m??"",isExternal:!0,onClick:()=>{D({event_type:101,element:14321}),eo(14321)},option:er.teenSafetyResources}):null,ez=G&&n&&(!t||(0,P.Z)((t||{}).actions||[],7))&&(0,c.jsx)(s.Lt.Link,{dataTestId:"header-menu-options-ads-support",href:C.JbB,isExternal:!0,onClick:()=>eo(10106),option:er.adsSupport}),eT=G?(0,c.jsx)(s.Lt.Link,{dataTestId:"header-menu-options-request-a-feature",href:C.W32+"?utm_source=pinterest&utm_medium=settings&utm_campaign=request_a_feature_exp",isExternal:!0,onClick:()=>eo(11345),option:er.requestFeature}):null,eI=(0,c.jsx)(s.Lt.Link,{dataTestId:"header-menu-options-help",href:`${C.gOE}?source=gear_menu_web`,isExternal:!0,onClick:()=>eo(8002),option:er.getHelp}),eZ=(0,c.jsx)(s.Lt.Link,{dataTestId:"header-menu-options-tos",href:C.U5h,isExternal:!0,onClick:()=>eo(61),option:er.termsOfService}),eL=(0,c.jsx)(s.Lt.Link,{dataTestId:"header-menu-options-policy",href:C.R_9,isExternal:!0,onClick:()=>eo(8004),option:er.privacyPolicy}),eE=(0,c.jsx)(s.Lt.Link,{dataTestId:"header-menu-options-beta-tester",href:C.LOs,isExternal:!0,onClick:()=>eo(13613),option:er.betaTester}),eR=(0,c.jsx)(s.Lt.Item,{dataTestId:"header-menu-options-logout",onSelect:V,option:er.logOut}),eB=eh?(0,c.jsxs)(s.Lt.Section,{label:O.bt("Tus cuentas", "Your accounts", "SwitchAccountsList.YourAccountsTitle", undefined, true),children:[e_,ep,em,!$?.opt_in_private_account&&eg,!$?.opt_in_private_account&&ex]},"your-accounts"):null,eM=(0,c.jsxs)(s.Lt.Section,{label:O.bt("Tus cuentas", "Your accounts", "SwitchAccountsList.YourAccountsTitle", undefined, true),children:[e_,ep,em,!$?.opt_in_private_account&&ef,!$?.opt_in_private_account&&ex,ey,ej]},"your-accounts"),eO=(0,c.jsxs)(s.Lt.Section,{label:O.bt("Contenido", "Content", "header.accountsOptionsMenu.contentHeader", undefined, true),children:[eb,eS,eP]}),eD=(0,c.jsxs)(s.Lt.Section,{label:O.bt("Ayuda", "Help", "header.accountsOptionsMenu.helpHeader", undefined, true),children:[eC,eI,ez,eT,ev]}),eN=(0,c.jsxs)(s.Lt.Section,{label:O.bt("Privacidad", "Privacy", "header.accountsOptionsMenu.privacyHeader", undefined, true),children:[eL,ek]}),eH=(0,c.jsxs)(s.Lt.Section,{label:"",children:[eZ,eR]}),eF=(0,c.jsxs)(s.Lt.Section,{label:O.bt("Más opciones", "More options", "header.accountsOptionsMenu.optionsHeader", undefined, true),children:[ev,ey,ej,eA,eP,ez,eT,eS,eb,ek,eC,eI,eZ,eL,eE,eR]});return{yourAccount:G?eM:eB,moreOptions:G?[eO,eD,eN,eH]:eF}}({onDismiss:t,advertiser:n,showAdsSupportOption:l,isWwwSite:a,isPersistentArrUpsellEnabled:r});return(0,c.jsx)(W.Z,{children:(0,c.jsxs)(s.Lt,{anchor:e,disableMobileUI:!0,id:"HeaderAccountOptionsFlyout",idealDirection:"down",isWithinFixedContainer:!0,onDismiss:t,zIndex:new s.Ry(1e3),children:[i&&(h?(0,c.jsxs)(s.Lt.Section,{label:d.bt("¡Vaya! Ya no estás conectado", "Oh no! You're no longer logged into", "header.accountsOptionsMenu.failedAccount", undefined, true),children:[(0,c.jsx)(s.Lt.Item,{onSelect:()=>{},option:F.failedAccount,children:(0,c.jsx)(v.Z,{user:h})}),(0,c.jsx)(U,{failedAccount:h,handleReauthAccount:D,handleRemoveUnauthAccount:N})]}):[(0,c.jsx)(s.Lt.Section,{label:d.bt("Actualmente en", "Currently in", "SwitchAccountsList.CurrentlyInTitle", undefined, true),children:!!q&&(0,c.jsx)(s.Lt.Item,{onSelect:()=>V?O(q,void 0):m(q),option:F.currentAccount,selected:F.currentAccount,children:(0,c.jsx)(s.rU,{href:a?`/${q.username}/`:`${$.C0}/${q.username}/`,underline:"none",children:(0,c.jsx)(v.Z,{isCurrentAccount:!0,user:q})})})},"currently-in"),Y]),J]})})}let V=e=>["MOBILE","DESKTOP"].includes(e),Y=e=>"STERLING"===e,J=e=>"ANALYTICS"===e;var G=n(857916),K=n(96157),X=n(737811),Q=n(13848),ee=n(311694),et=n(164212),en=n(983983),eo=n(89511),ei=n(728277);function es({currentSite:e,isSterlingOnSteroids:t,isAdsNavMenuEnabled:n,isPersistentArrUpsellEnabled:l,advertiser:a}){let r=(0,p.ZP)(),{showAccountMenuFlyout:u,updateHeaderState:d}=(0,et.J)(),m=e=>{d({type:e?"showAccountMenuFlyout":"hideAccountMenuFlyout"})},[g,f]=(0,o.useState)(!1),[x,b]=(0,o.useState)(!0),v=(0,i.k6)(),y=(0,T.Z)(),w=(0,ei.Z)(),j=(0,eo.Z)({user:w.data,viewer:y}),A=j&&x,P=(0,S.Z)({name:"UserResource",options:{field_set_key:"linked_partner",user_id:y.isAuth?y.id:""}}),C=(0,o.useRef)(null),{checkExperiment:I}=(0,k.F)(),Z=V(e)&&!t||J(e)||Y(e),L=Y(e)||n,E=(0,i.TH)(),R=(0,Q.F9)();(0,o.useEffect)(()=>{(0,G.rL)({showOneToast:R.showOneToast,i18n:r,location:E,history:v,username:y.username||"",fullName:y.fullName||"",avatarUrl:y.imageMediumUrl||""})},[]),(0,o.useEffect)(()=>(y.isAuth&&y.partner&&(0,X.Mt)(y,P.data),()=>{y.isAuth&&y.partner&&(0,X.CV)("flyout.dismiss")}),[]);let B=()=>{m(!1)};(0,o.useEffect)(()=>{(P.data?.businesses??[]).length>0&&f(!0)},[P]);let{pathname:M}=E,O=!(M.startsWith("/settings")||M.startsWith("/edit"))&&(y.username&&M.startsWith(`/${y.username}`)||M.startsWith("/news_hub")),D=j||M.startsWith("/homefeed")||M.startsWith("/business/hub")||"/"===M;return(0,c.jsx)(ee.T,{children:(0,c.jsx)(F,{children:(0,c.jsxs)(h,{onDismiss:B,children:[(0,c.jsxs)(s.xu,{ref:C,"data-test-id":"header-accounts-options-button",position:"relative",children:[(0,c.jsx)(s.hU,{accessibilityLabel:r.bt("Cuentas y más opciones", "Accounts and more options", "header.accountsOptionsMenu.accountsOptionsMenuButton", undefined, true),icon:"arrow-down",iconColor:u?"darkGray":"gray",onClick:()=>{m(!u),f(!1),b(!1)},size:"xs",tooltip:{accessibilityLabel:"",text:r.bt("Cuentas y más opciones", "Accounts and more options", "navbar.actionsOptionsButton.tooltip", undefined, true),zIndex:new s.H3([new s.Ry(en.fe)])}}),l&&(I("dweb_google_connect_persistent_banner_v2").anyEnabled||I("dweb_password_set_persistent_banner_v2").anyEnabled)&&(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{right:"8px"}},position:"absolute",top:!0,children:(0,c.jsx)(z.Z,{height:14,isAbsolute:!0,text:"1",width:14})})]}),u&&(0,c.jsx)(s.xu,{"data-test-id":"HeaderAccountsOptionsFlyout",children:(0,c.jsx)(q,{advertiser:a,anchor:C.current,isPersistentArrUpsellEnabled:l,isWwwSite:V(e),onDismiss:B,showAccountSwitcher:Z,showAdsSupportOption:L})}),g&&(0,c.jsx)(s.xu,{"data-test-id":"LinkedBusinessAccountFlyout",children:(0,c.jsx)(_.default,{anchor:C.current,experienceIds:[502787],placementId:1000109,showCaret:!0})}),(0,K.LO)(E)&&(0,c.jsx)(_.default,{anchor:C.current,experienceIds:[503137],idealDirection:"left",placementId:1000303}),y.isAuth&&!y.partner?(0,c.jsx)(_.default,{anchor:C.current,experienceIds:[503893,503602],onClickComplete:()=>v.push("/settings"),placementId:1000109,showCaret:!0}):null,A&&(0,c.jsx)(_.default,{anchor:C.current,experienceIds:[505848],hasFullWidthButton:!1,onClickComplete:()=>{b(!1),v.push("/settings/permissions")},placementId:1000109,showCaret:!0,textWeight:"normal"}),O&&(0,c.jsx)(_.default,{anchor:C.current,experienceIds:[505283],flyoutSize:"md",hasFullWidthButton:!1,onClickComplete:()=>{v.push("/settings/privacy/")},placementId:1000109,showCaret:!0,textAlign:"center",textWeight:"bold"}),D&&(0,c.jsx)(_.default,{anchor:C.current,experienceIds:[505949],hasFullWidthButton:!1,onClickComplete:()=>{v.push("/settings/claim")},placementId:1000109,showCaret:!0,textWeight:"normal"})]})})})}},434593:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(883119),i=n(205841),s=n(140017),l=n(785893);function a(e){return e.partner?.isLinkedBusiness?e.partner.businessName||e.fullName||e.username:e.fullName||e.username}function r({user:e,isCurrentAccount:t}){let n=(0,s.ZP)(),r=e.partner;return(0,l.jsxs)(o.xu,{alignItems:"center","data-test-id":"HeaderAccountsOptionsMenuAccountRep",display:"flex",justifyContent:"start",marginEnd:4,rounding:2,children:[(0,l.jsx)(o.xu,{flex:"none",height:60,marginEnd:2,rounding:"circle",width:60,children:(0,l.jsx)(i.qE,{accessibilityLabel:"",name:a(e),src:function(e){let{imageMediumUrl:t}=e;return t&&!t.includes("static/images/user/default")?t:""}(e)})}),(0,l.jsxs)(o.xu,{maxWidth:176,children:[(0,l.jsx)(o.xv,{lineClamp:1,weight:"bold",children:a(e)}),(0,l.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"2px"}},"data-test-id":"header-account-type-display",children:(0,l.jsx)(o.xv,{color:"subtle",lineClamp:1,size:"200",children:r?n.bt("Empresa", "Business", "SwitchAccountsListItem.BusinessAccount.label", undefined, true):n.bt("Personal", "Personal", "SwitchAccountsListItem.PersonalAccount.label", undefined, true)})}),t&&(0,l.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"2px"}},children:(0,l.jsx)(o.xv,{color:"subtle",lineClamp:1,size:"200",children:r?e.partner?.bizContactEmail:e.email})})]})]})}},991326:(e,t,n)=>{n.d(t,{Z:()=>c});var o=n(587703),i=n(737811),s=n(488726),l=n(598753),a=n(149722),r=n(939341);function c(){let e=(0,a.Z)(),t=(0,o.Z)(),n=(0,s.aU)(),{headerVisible:c,activeClient:u,changeClient:d}=(0,r.a)()||{};return function(){if(t({event_type:101,component:8,element:8005}),c&&u){d();return}(0,l.lv)()>1?(e.isAuth&&((0,i.RD)(e.id),(0,i.CV)("utils.user_deleted",{deleted_user:e.id})),n({redirectUrl:"/",source:"user_header",localStorageItems:(0,l.Q)()})):((0,i.CV)("utils.group_deleted"),n({redirectUrl:"/",source:"user_header"}))}}},404891:(e,t,n)=>{n.d(t,{Z:()=>f});var o=n(667294),i=n(616550),s=n(216167),l=n(316353),a=n(214877),r=n(322079),c=n(30378),u=n(307772),d=n(737811),h=n(702497),_=n(149722),p=n(311694),m=n(794109),g=n(953565);function f(e,t){let{flushContextEvents:n,logContextEvent:f}=(0,a.v)(),[x,b]=(0,o.useState)(!1),[v,y]=(0,o.useState)(null),w=(0,i.k6)(),j=(0,_.Z)(),{showAccountSwitcherLoginModal:A}=(0,p.g)(),P=()=>{A("account_switcher_flyout",v?.email)},{userAccounts:k}=(0,m.N)(),{data:S}=(0,l.iY)(),C=(0,r.Z)(),z=!!(j.isAuth&&!j.partner&&S?.businesses)&&0===S.businesses.length;(0,o.useEffect)(()=>(j.isAuth&&(0,d.Mt)(j,S),()=>{(0,d.CV)("flyout.dismiss")}),[]),(0,o.useEffect)(()=>((0,d.CV)("modal.shown"),()=>{(0,d.CV)("modal.dismiss")}),[]),(0,o.useEffect)(()=>{k.length>1&&f({event_type:13,view_type:234,component:13369,element:12722})},[f,k]);let T=(e,t)=>{throw(0,d.z3)(e,"account_switcher_flyout"),b(!1),t},I=e=>{let{id:t}=e;b(!0),f({event_type:101,component:13369,element:11196}),(0,d.CV)("switch_account_click",{destination_user_id:t},"account_switcher_flyout"),c.Z.pause(u.LU),n(!0),C({creds:{get_user:!0,switch_account:t},loggingOptions:{loggingData:{container:"account_switcher"},loginAttemptContextEvent:{event_type:7534,view_type:234,component:13369,aux_data:{upsell_reason:"account_switcher"}}},isAccountSwitch:!0}).then((n={})=>{n?.resource_response.data?.user?(0,d.iS)("/",t,"account_switcher_flyout"):((0,d.CV)("no_api_access_token",{destination_user_id:t},"account_switcher_flyout"),(0,d.z3)(t,"account_switcher_flyout"),y(e),b(!1))},e=>{T(t,e)})};return{failedAccount:v,fetchedUserAccounts:k,handleAccountRepClick:e=>{j.isAuth&&e.id!==j.id&&I(e)},handleAddSecondaryAccount:()=>{(0,d.CV)("add_account_click",null,"account_switcher_flyout"),f({event_type:101,component:8,element:12756}),e(),w.push(h.rOJ)},handleClick:t=>{13290!==t&&f({event_type:101,component:8,element:t}),e()},handleLinkedAccountSwitch:(e,o)=>{let{partner:i}=e;if(b(!0),f({event_type:101,component:13369,element:i?.isLinkedBusiness?11195:11194}),c.Z.pause(u.LU),n(!0),i?.isLinkedBusiness){let t={business_id:e.id,get_user:!0,owner_id:o};(0,g.nP)("web.partner.linked_business_account.switch_account_attempt",{sampleRate:1}),C({creds:t,loggingOptions:{loggingData:{container:"account_switcher"},loginAttemptContextEvent:{event_type:7534,view_type:234,component:13369}},isAccountSwitch:!0}).then(()=>{(0,g.nP)("web.partner.linked_business_account.switch_account_success",{sampleRate:1}),(0,d.iS)("/",e.id,"account_switcher_flyout")},t=>{T(e.id,t)})}else s.Z.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete().then(()=>{j.isAuth&&((0,d.RD)(j.id),(0,d.iS)(t?`/${e.username}`:"/",j.id,"account_switcher_flyout"))},e=>{j.isAuth&&T(j.id,e)})},handleReauthAccount:()=>{(0,d.CV)("switch_failure_prompt.login_click",null,"account_switcher_flyout"),y(null),P()},handleRemoveUnauthAccount:e=>{(0,d.CV)("switch_failure_prompt.account_removed",{removed_user_id:e},"account_switcher_flyout"),(0,d.RD)(e),y(null)},handleUnlockBusinessTools:()=>{e(),j.isAuth?window.location.href="https://www.pinterest.com/convert-business":w.push(`${h.KDH}?utm_source=pinterest&utm_medium=settings&utm_campaign=convert_settings`),f({event_type:101,component:8,element:10299})},isLoading:x,showUnlockBusinessTools:z}}},42068:(e,t,n)=>{n.d(t,{Z:()=>o});function o(e,t){return e.includes(t)||e.includes(80)}},568803:(e,t,n)=>{n.d(t,{Z:()=>o});function o(e){return"object"==typeof e&&null!==e&&"url"in e&&"media"in e}},316353:(e,t,n)=>{n.d(t,{OS:()=>s,iY:()=>l});var o=n(757640),i=n(149722);let s=4;function l(){let e=(0,i.Z)();return(0,o.Z)({name:"UserResource",options:{field_set_key:"linked_partner",user_id:e.isAuth&&e.id}})}},433058:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(667294),i=n(214877),s=n(525364);let l=e=>{let t=(0,o.useRef)(!1),{logContextEvent:n}=(0,i.v)(),{viewType:l,viewParameter:a}=(0,s.SU)();(0,o.useEffect)(()=>{Object.entries(e).length>0&&!t.current&&l&&(n({event_type:13,view_type:l,view_parameter:a,...e}),t.current=!0)})}},65775:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(883119),i=n(140017),s=n(785893);function l(){let e=(0,i.ZP)();return(0,s.jsx)(o.kC,{alignItems:"center",justifyContent:"center",children:(0,s.jsx)(o.$j,{accessibilityLabel:e.bt("Cargando formulario", "Loading signup form", " - ", undefined, true),show:!0})})}},847160:(e,t,n)=>{n.d(t,{Bx:()=>i,N4:()=>l,is:()=>a,lt:()=>o,oM:()=>s});let o=e=>e.bt("¡Falta poco! Inicia sesión para acceder a todo el contenido de Pinterest", "You're almost there! Log in to access all of Pinterest", "loginModal.limitedLogin.subheader", undefined, true),i=e=>e.bt("Inicia sesión para guardar este Pin", "Log in to save this Pin", "limitedLogin.modalHeader.repin", undefined, true),s=e=>e.bt("Inicia sesión para editar este Pin", "Log in to edit this Pin", "limitedLogin.modalHeader.editPin", undefined, true),l=({i18n:e,toFollow:t})=>t?e.bt("Inicia sesión para seguir a este usuario", "Log in to follow", "limitedLogin.modalHeader.follow", undefined, true):e.bt("Inicia sesión para dejar de seguir a este usuario", "Log in to unfollow", "limitedLogin.modalHeader.unfollow", undefined, true),a=e=>e.bt("Inicia sesión para crear un Pin o un tablero", "Log in to create a Pin or board", "limitedLogin.modalHeader.create", undefined, true)},322079:(e,t,n)=>{n.d(t,{Z:()=>k});var o=n(667294),i=n(216167),s=n(224796),l=n(214877),a=n(658583),r=n(622541),c=n(165736),u=n(123526),d=n(769666),h=n(96452),_=n(488726),p=n(467707),m=n(508218),g=n(182962),f=n(891276),x=n(535053),b=n(228441),v=n(731714),y=n(217058),w=n(722363),j=n(926234),A=n(67661),P=n(953565);function k(){let e=(0,_.hq)(),t=(0,g.Z)(),{logContextEvent:n}=(0,l.v)(),k=(0,w.Z)();return(0,o.useCallback)(({creds:o,isAccountSwitch:l,loggingOptions:{loggingData:_={},loginAttemptContextEvent:g},recaptchaV2Token:w,recaptchaV3Token:S})=>{t();let C=!!(o.facebook_autologin||o.autologin),z=(0,m.eD)(o),T=e=>{let t=o.google_open_id_token?"google":"facebook";C&&(0,y.dy)({event:e,provider:t})},I=e=>{C||(0,y.EX)({event:e,provider:(0,m.nY)(o)})},Z=e=>{n({...g,event_type:e,aux_data:{...g.aux_data,upsell_reason:g.aux_data?.upsell_reason||(C?"autologin":v.Z.getItem(s.bg)||null),upsell_view_count:v.Z.getItem(s.w0)||0}}),7536===e&&(v.Z.setItem(s.w0,0),v.Z.setItem(s.V6,(0,m.nY)(o)))};Z(7534),k({action:C?"autologin":"login",event:"attempt",trigger:_.trigger,type:z});let L=e=>{let t="referrer_unknown";try{let e=document.referrer;t=e?e.indexOf("/t.co/")>-1?"twitter":e.indexOf("google.")>-1?"google":e.indexOf("bing.")>-1?"bing":e.indexOf("facebook.")>-1?"facebook":"other":"direct"}catch(e){}let n=_===Object(_)?_.container:"container_unknown";(0,y.My)("login.referrer."+t+"."+z),(0,y.My)("login.container."+String(n)+"."+z),(0,y.My)("login.type."+z);let i=z||"method_unknown",s=_.page||"page_unknown";o.facebook_autologin?((0,y.My)("web_autologin_facebook"),(0,y.My)("new_web_autologin_facebook",{page:s,referrer:t,container:n})):((0,y.My)(`web_login.${i}.success.${s}.${String(n)}.${t}.tier1`),(0,P.nP)(`web_login.${i}.success.${s}.${String(n)}.${t}.tier1`),(0,y.My)(`new_web_login.${i}.success`,{page:s,referrer:t,container:n})),(0,f.ko)({country:e?.country,countryFromHostName:e?.countryFromHostName,countryFromIp:e?.countryFromIp,regionFromIp:e?.regionFromIp,deviceType:"Desktop",eventCategory:"Logins"}),Z(7536),k({action:C?"autologin":"login",event:"success",trigger:_&&_.trigger,type:z})},E=({error:e,isCrossDomain:t})=>{if(!e)return;let n=e.http_status===x.Ej?x.Ej:e.api_error_code,o=n;n&&h.qF.has(n)&&(o=h.qF.get(n));let{container:i,trigger:s}=_;(0,y.My)(`${t?"unauth_web_client_cctld_login_api_error":"unauth_web_client_login_api_error"}.${String(o)}.${i||"unknow_container"}.${z}`),Z(7535),k({action:C?"autologin":"login",event:"fail",trigger:s,type:z})};if(o.username_or_email&&!o.mfa_resend&&e&&-1!==p.Z.indexOf(e.origin)){let t=e=>(0,y.My)(`web_cross_domain_login.${e}.${(0,m.eD)(o)}`);t("attempt");let{referrer:n,facebookToken:i,unauthId:s}=e;return(0,c.pH)(o,{recaptchaV3Token:S,referrer:n,facebookToken:i,unauthId:s}).then(e=>{let n=e&&e.data;if(n)return t("success_with_token"),(0,c.kv)(n).then(()=>(t("success_token_exchanged"),L(),Promise.resolve()),e=>{throw t("success_token_not_exchanged"),e});throw t("success_without_token"),Error()},e=>{throw t("failure"),E({error:e,isCrossDomain:!0}),e})}T("login_api_call_start"),I("login_api_call_start");let R=(0,j.O)();return i.Z.create("UserSessionResource",{...o,...R?{referrer:R}:Object.freeze({}),get_user:o.get_user||o.switch_account&&l,app_type_from_client:7===e.appType?7:5,visited_pages_before_login:(0,A.t_)()||null,recaptchaV2Token:w,recaptchaV3Token:S}).callCreate({showError:!1,async:!0}).then(e=>{let{country:t,country_from_hostname:n,country_from_ip:o,region_from_ip:i}=e?.client_context||Object.freeze({});return L({country:t,countryFromHostName:n,countryFromIp:o,regionFromIp:i}),T("login_api_call_success"),I("login_api_call_success"),(0,u.B)(!1),(0,d.Z)(),a.zN(r.e7.name),a.zN(r.x3.name),(0,b.Dm)("login").then(()=>e)},e=>(E({error:e,isCrossDomain:!1}),T("login_api_call_failure"),I("login_api_call_failure"),Promise.reject(e)))},[e,t,n,k])}},515278:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(847160),i=n(140017),s=n(166770);let l=()=>{let{loginForMore:e,viewer:t,limitedLoginModalSubheader:n}=(0,s.H)(),l=(0,i.ZP)();return"AUTH"===t.type?null:t=>{e?.setVisible(!0),n?.setText(t?.loginModalHeader||o.lt(l))}}},619370:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var o=n(667294),i=n(883119),s=n(401429),l=n(785893);function a(e,t,n){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:String(o))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r extends o.PureComponent{constructor(...e){super(...e),a(this,"onScroll",()=>{let{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout(()=>{e(),this.dismissed=!0,this.timer=void 0},3e3))}),a(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){let{anchor:e,text:t,thumbnails:n,idealDirection:o}=this.props,s=n.slice(-3);return(0,l.jsx)(i.J2,{anchor:e,color:"white",idealDirection:o,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,l.jsxs)(i.xu,{alignContent:"center",display:"flex",justifyContent:"between",padding:3,width:"100%",children:[(0,l.jsx)(i.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,l.jsx)(i.xv,{color:"default",weight:"bold",children:t})}),(0,l.jsx)(i.xu,{display:"flex",marginEnd:-2,paddingX:2,children:s.map(e=>(0,l.jsx)(i.xu,{height:60,paddingX:1,width:50,children:(0,l.jsx)(i.zd,{height:60,rounding:2,children:(0,l.jsx)(i.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e))})]})})}}var c=n(76561);function u(e,t,n){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:String(o))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends o.Component{constructor(...e){super(...e),u(this,"dismissRef",(0,o.createRef)()),u(this,"state",{paused:!1}),u(this,"dismissCb",()=>{this.dismissRef.current?.()}),u(this,"handlePulsarClick",(e,t)=>{e?this.setState({paused:!0}):t()})}componentWillUnmount(){let{anchor:e}=this.props;this.timer&&clearTimeout(this.timer),e?.removeEventListener("click",this.dismissCb)}setDefaultPulsarTooltip(e){e.has_pulsar=null==e.has_pulsar||e.has_pulsar,e.has_tooltip=null==e.has_tooltip||e.has_tooltip}getText(e,t,n){return(t&&e.text.replace("{boardName}",t),n)?n(e):e.text}render(){let{anchor:e,customWrapper:t,experienceIds:n,boardTextOverride:a,flyoutSize:u,fontSize:d,hasFullWidthButton:h=!0,idealDirection:_,useMasonryFlyout:p,noClickToDismiss:m,onClickComplete:g,onClickDismiss:f,placementId:x,positionRelativeToAnchor:b,shouldSeeReturnToHomeFeedTooltipEdu:v=!1,shouldTimeoutDismiss:y,showCaret:w,textAlign:j,textOverflow:A,textOverrideFn:P,textWeight:k,customizedComplete:S,pulsarZIndex:C,advertiserId:z,dismissButtonLocation:T,dismissButtonColor:I,dismissButtonMarginTop:Z}=this.props,L=t||(({children:e})=>p?(0,l.jsx)(i.mh,{children:e}):e);return(0,l.jsx)(s.Z,{eligibleIds:n,eligibleTypes:[8],placementId:x,targeting:z?{advertiserId:parseInt(z,10)}:null,children:({complete:t,dismiss:n,experience:s})=>{let{display_data:{scroll_to_dismiss:x,scroll_to_dismiss_delay_in_seconds:z=0,...E}}=s,R=x&&e,B=()=>{M(),this.timer||(this.timer=setTimeout(n,1e3*z))},M=()=>{R&&(window.removeEventListener("scroll",B),window.removeEventListener("touchmove",B))},O=()=>{M(),t()};if(R&&(window.addEventListener("scroll",B),window.addEventListener("touchmove",B)),this.setDefaultPulsarTooltip(E),!E.has_pulsar&&!E.has_tooltip)return O(),null;y&&E.disappearTime&&E.disappearTime>0&&(this.timer=setTimeout(()=>(B(),null),E.disappearTime));let D=501041===s.experience_id||505086===s.experience_id;return E.has_tooltip&&!E.has_pulsar&&(this.dismissRef.current=B,e?.addEventListener("click",this.dismissCb)),(0,l.jsxs)(o.Fragment,{children:[E.has_pulsar&&(0,l.jsx)(c.Z,{anchor:e,leftOverride:D?342:void 0,onTouch:()=>this.handlePulsarClick(E.has_tooltip,O),paused:this.state.paused,topOverride:D?-5:void 0,zIndex:C&&C.index()}),E.has_tooltip&&(!E.has_pulsar||this.state.paused)&&(E.thumbnail_urls?(0,l.jsx)(r,{anchor:e,dismiss:B,idealDirection:_||"down",text:E.text,thumbnails:E.thumbnail_urls}):(0,l.jsx)(L,{children:(0,l.jsx)(i.J2,{_deprecatedShowCaret:w,anchor:e,color:"deprecatedBlue",idealDirection:_||"down",onDismiss:m?()=>{}:B,positionRelativeToAnchor:!p&&b,shouldFocus:!1,size:u,children:(0,l.jsxs)(i.xu,{column:12,paddingX:v?5:3,paddingY:3,children:[(0,l.jsxs)(i.xv,{align:"right"===j?"end":j,color:"inverse",overflow:A,size:d,weight:k||"bold",children:[this.getText(E,a,P),E.secondary_cta_link&&(0,l.jsx)(i.xu,{display:"inlineBlock",marginStart:1,children:(0,l.jsx)(i.xv,{color:"inverse",size:d,weight:"bold",children:(0,l.jsx)(i.rU,{display:"inlineBlock",href:E.secondary_cta_link.url,target:"blank",underline:"hover",children:E.secondary_cta_link.text})})})]}),E.sub_text&&(0,l.jsx)(i.xu,{paddingY:2,children:(0,l.jsx)(i.xv,{color:"inverse",size:d,children:E.sub_text})}),(E.dismiss_button_text||E.complete_button_text)&&(0,l.jsxs)(i.xu,{alignItems:"center",display:"flex",justifyContent:T||"start",marginTop:Z||2,children:[E.dismiss_button_text&&(0,l.jsx)(i.xu,{column:6,marginEnd:1,children:(0,l.jsx)(i.zx,{color:I||"blue",fullWidth:h,onClick:()=>{f&&f(),B()},size:"md",text:E.dismiss_button_text})}),E.complete_button_text&&(0,l.jsx)(i.xu,{column:E.dismiss_button_text?6:12,children:S?(0,l.jsx)(i.iP,{fullHeight:!0,onTap:()=>{O(),g&&g()},rounding:2,children:(0,l.jsx)(i.xu,{color:"default",dangerouslySetInlineStyle:{__style:{padding:"10px"}},display:"flex",justifyContent:"center",padding:2,rounding:2,children:(0,l.jsx)(i.xv,{color:"shopping",weight:"bold",children:E.complete_button_text})})}):(0,l.jsxs)(i.kC,{justifyContent:"center",children:[E.complete_button_cta_url&&(0,l.jsx)(i.ZP,{color:"white",fullWidth:h,href:E.complete_button_cta_url,onClick:({event:e})=>{e.preventDefault(),e.stopPropagation(),O(),g&&g()},size:"md",target:E.complete_button_cta_url?"blank":null,text:E.complete_button_text}),!E.complete_button_cta_url&&(0,l.jsx)(i.zx,{color:"white",fullWidth:h,onClick:()=>{O(),g&&g()},size:"md",text:E.complete_button_text})]})})]})]})})}))]})}})}}u(d,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},454514:(e,t,n)=>{n.d(t,{UZ:()=>c,Vg:()=>r,ZP:()=>u});var o=n(667294),i=n(883119),s=n(554786),l=n(494125),a=n(785893);let r=200,c=({deviceType:e,hiding:t,visible:n})=>{let o="desktop"===e,i=0,s=o?"translateY(200px)":"translateY(-200px)",l="opacity 0.1s ease-in-out",a="hidden";return n&&!t&&(i=1,s="translateY(0)",l="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",a="visible"),n&&t&&(s="scale(1.1)",l="opacity transform 0.2s"),{opacity:i,pointerEvents:"auto",position:"relative",marginTop:o?10:0,transform:s,transition:l,visibility:a}};function u({_dangerouslySetThumbnail:e,_dangerouslySetPrimaryAction:t,text:n,primaryAction:u,dismissButton:d,helperLink:h,thumbnail:_,type:p,dataTestId:m,duration:g=2e3,onHide:f,href:x,onClick:b,openNewPage:v,imageUrl:y}){let w;let j=(0,s.ZP)(),[A,P]=(0,o.useState)(!1),[k,S]=(0,o.useState)(!1),C=(0,o.useRef)(),z=()=>{P(!0),C.current=setTimeout(f,r)},T=()=>{C.current=setTimeout(z,g)},I=()=>{C.current&&clearTimeout(C.current)};(0,l.Z)(()=>(setTimeout(()=>S(!0),100),T(),I)),y&&(w={image:(0,a.jsx)(i.Ee,{alt:"string"==typeof n?n:`${n[0]} ${n[1]}`,fit:"cover",naturalHeight:1,naturalWidth:1,src:y})});let Z=(0,a.jsx)(i.FN,{_dangerouslySetPrimaryAction:t,_dangerouslySetThumbnail:e,dismissButton:d,helperLink:h,primaryAction:u,text:n,thumbnail:w??_,type:p}),{marginTop:L,opacity:E,pointerEvents:R,position:B,transform:M,transition:O,visibility:D}=c({deviceType:j,hiding:A,visible:k});return(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{transform:M,transition:O,visibility:D,pointerEvents:R}},"data-test-id":m??"toast",display:"flex",marginTop:L,onMouseEnter:I,onMouseLeave:T,opacity:E,position:B,children:x?(0,a.jsx)(i.Tg,{href:x,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{x.startsWith("#")&&(e.preventDefault(),t()),b?.(e)},rounding:"pill",target:v?"blank":null,children:Z}):Z})}},205841:(e,t,n)=>{n.d(t,{qE:()=>a,u_:()=>r.ZP,FN:()=>c.ZP});var o=n(883119),i=n(785893);let s=(e,t)=>!!(e?.includes("images/user/default")&&t);function l({accessibilityLabel:e,name:t,outline:n,size:l,src:a,verified:r}){return(0,i.jsx)(o.qE,{accessibilityLabel:e,name:t,outline:n,size:l,src:s(a,t)?void 0:a,verified:r})}l.displayName="Avatar";let a=l;var r=n(930837),c=n(454514)},654960:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(598228);let i=()=>{let{hostname:e}=window.location,t=e.includes("pinterdev")&&!e.includes("ads.pinterdev"),n=e.includes("pinterest")&&(e.startsWith("www")||e.startsWith("latest")||e.startsWith("testing"));return t||n?e:e.includes("ads-latest")?"latest.pinterest.com":o.Vi}},857916:(e,t,n)=>{n.d(t,{Di:()=>h,Jl:()=>c,R:()=>u,ZP:()=>f,aU:()=>_,j2:()=>d,pN:()=>p,rL:()=>x,vW:()=>g});var o=n(883119),i=n(205841),s=n(454514),l=n(339001),a=n(624797),r=n(785893);let c=1e4,u="permanent_account_closure",d="account_deletion_email_sent",h="account_deactivated",_="unlink_successful",p="account_switch_to_settings";function m(e,t,n){return(0,r.jsx)(o.xv,{align:n||"center",children:(0,l.nk)(e,{username:(0,r.jsx)(o.xv,{inline:!0,weight:"bold",children:t})})})}function g({i18n:e,message:t,multipleAccounts:n,username:o=""}){switch(t){case u:return e.bt("Se eliminó tu cuenta. Lamentamos que te vayas", "Your account has been deleted. We're sad to see you go", "unauthLoginPage.accountDeletedToast.message", undefined, true);case d:if(n)return m(e.bt("Se envió un correo electrónico con los últimos pasos para eliminar tu cuenta, {{username}}, y las cuentas vinculadas.", "An email has been sent with final steps to delete your account, {{username}} and its linked accounts", "accountDeletedEmailToast.message.multipleAccounts", undefined, true),o);return m(e.bt("Se envió un correo electrónico con los últimos pasos para cerrar tu cuenta, {{username}}", "An email has been sent with final steps to delete your account, {{username}}", "accountDeletedEmailToast.message.singleAccount", undefined, true),o);case h:return m(n?e.bt("Se desactivó la cuenta, {{username}}, y todas las cuentas vinculadas a esta", "The account, {{username}}, and its associated linked accounts have been deactivated", "unauthLoginPage.deactivatedToast.message.multipleAccounts", undefined, true):e.bt("Se desactivó la cuenta, {{username}}", "The account, {{username}}, has been deactivated", "unauthLoginPage.deactivatedToast.message.singleAccount", undefined, true),o);case _:return m(e.bt("¡Muy bien! Desvinculaste esta cuenta para empresa. Ahora estás en la cuenta {{username}}.", "Success! You've unlinked this business account. You are currently in {{username}}.", "authHomeFeedPage.unlinkAccountToast.message", undefined, true),o,"start");case p:return m(e.bt("Cambiaste a {{username}} y actualmente estás en esa cuenta", "You've switched into and are currently in the account {{username}}", "accountSettings.switchAccountToAccountChanges", undefined, true),o,"start");default:return""}}function f(e,t,n=""){if(!(t&&t.search))return"";let{message:o}=(0,a.mB)(t.search),i=(0,a.mB)(t.search).username||n;return g({i18n:e,message:o,multipleAccounts:"true"===(0,a.mB)(t.search).multiple_accounts,username:i})}function x({showOneToast:e,i18n:t,location:n,history:o,username:l,fullName:u,avatarUrl:d}){if(!(n&&n.search))return;let h=f(t,n,l||""),{message:m}=(0,a.mB)(n.search),g=m===p||m===_;h&&(e(({hideToast:e})=>(0,r.jsx)(s.ZP,{duration:c,onHide:e,text:h,thumbnail:g?{avatar:(0,r.jsx)(i.qE,{name:u||"",size:"md",src:d||""})}:void 0})),o.replace(n.hash?`${n.pathname}${n.hash}`:n.pathname))}},737811:(e,t,n)=>{n.d(t,{CV:()=>a.Z,Mt:()=>u,RD:()=>c,iS:()=>d,z3:()=>h});var o=n(29156),i=n(30378),s=n(307772),l=n(54576),a=n(300494),r=n(598753);let c=e=>{let t={...(0,r.rl)()};delete t[e],(0,r.r8)(t)},u=(e,t)=>{if(!(0,r.PE)()||e&&!(e.id in(0,r.rl)())){if(e.partner&&e.partner.is_linked_business&&t){(0,l.Z)({...e,email:t.partner&&t.partner.is_linked_business?t.partner.biz_ownership_email:""});return}(0,l.Z)(e)}},d=(e,t,n)=>{(0,a.Z)("switch_account_success",{destination_user_id:t},n),(0,o.Z)(e)},h=(e,t)=>{i.Z.resume(s.Z3),(0,a.Z)("switch_account_failure",{destination_user_id:e},t)}},54576:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(300494),i=n(598753);let s=e=>{let t={id:e.id,username:e.username,email:e.email,fullName:e.fullName||e.full_name,imageMediumUrl:e.imageMediumUrl||e.image_medium_url,imageLargeUrl:e.imageLargeUrl||e.image_large_url};return(t.fullName&&t.imageMediumUrl&&t.imageLargeUrl||(0,o.Z)("utils.incomplete_user_values"),e.partner?.is_create)?{...t,partner:{is_create:!0}}:t},l=(e,t,n)=>{(0,i.r8)({...(0,i.rl)(),[e.id]:s(e)}),t&&n&&(0,o.Z)("new_account_add_success",{method:t,user_added:e.id},n)}},300494:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(172045),i=n(598753),s=n(217058);let l="web_account_switcher",a=()=>{let e=(0,o.Z)();return(0,s.tj)(`${l}.utils.group_created`,{group_id:e,group_count:(0,i.lv)()}),e},r=(e,t,n)=>{let o=(0,i.yW)();o||(o=a(),(0,i.M3)(o));let r={group_count:(0,i.lv)()},c="";n&&(c="account_switcher_modal"===n?"modal.":"flyout."),(0,s.tj)(`${l}.${c}${e}`,{...t,...r})}},508218:(e,t,n)=>{n.d(t,{Ny:()=>d,ZP:()=>_,eD:()=>m,lp:()=>p,nY:()=>g});var o=n(224796),i=n(807657),s=n(602377),l=n(731714),a=n(702497),r=n(217058),c=n(88682),u=n(623891);let d=Object.freeze({SOFT_BANNED:0,RATE_LIMITED:1,LOGIN_ASSISTANCE:2,PASSWORD_RESET_SENT:3,PREVENT_FACEBOOK_REGISTER:4,PREVENT_GOOGLE_REGISTER:5,SUSPENDED:6});class h{static defaultLoginRedirectUrl(){return window.location.pathname===a.lfe||window.location.pathname===a.ZEf||window.location.pathname.startsWith(a.rOJ)?"/":window.location.pathname+window.location.search}static defaultSocialLoginRedirectUrl(){return window.location.pathname.startsWith(a.rOJ)?"/":window.location.pathname}static isExceedRecaptchaLocalLimit(){let e=l.Z.getItem(o.kl);if(e&&e.indexOf("|")>-1){let t=e.split("|");return 3===t.length&&new Date().getTime()/1e3-parseInt(t[0],10)<=3600}return!1}static updateRecaptchaTimeStamp(){let e=l.Z.getItem(o.kl),t=[];e&&3===(t=e.split("|")).length&&t.shift();let n=(new Date().getTime()/1e3).toString();t.push(n);let i=t.join("|");l.Z.setItem(o.kl,i)}static isFullyLoggedIn(e,t){return e&&t===s.Z.DEFAULT}static handleRedirect(e){if(!e){e="/";let t=(0,u.Z)();if(t){let n=t.next;n&&(e=n,delete t.next),e=(0,c.Z)(e,t)}}(0,i.Z)(e)}static handleRedirectWithFallbackWindowLocation(){this.handleRedirect(this.defaultLoginRedirectUrl())}static handleSignupRedirect(e,t){l.Z.setItem(o.F6,Date.now()),!t&&e&&"/"!==e?h.handleRedirect(e):h.handleRedirect("/")}static storeLoginCredentialsToBrowser(e){let t=window.navigator.credentials;if(t&&e.username_or_email)try{let n=new window.PasswordCredential({id:e.username_or_email,password:e.password});t.store(n).then(()=>{(0,r.My)("navigatorCredentials.store.success")})}catch(e){(0,r.My)("navigatorCredentials.store.error")}}static handleLoginMfa(e,t,n){(0,r.My)("multi_step_login"),h.storeLoginCredentialsToBrowser(e),n?n(e,t):(0,r.My)("unauth.login.error.CLIENT_ERROR.null_mfa_handler")}}let _=h;function p(e){return e.facebook_id?"facebook":e.google_open_id_token?"google_one_tap":e.line_id_token?"line":e.username_or_email?"email":"other"}function m(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":p(e)}function g(e){return e.facebook_id?"facebook":e.google_open_id_token?"google":e.username_or_email?"email":"other"}},308548:(e,t,n)=>{n.d(t,{Z:()=>o});let o=e=>Array.from(e)[0].toUpperCase()+Array.from(e).slice(1).join("")},595731:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(883119),i=n(785893);function s({accessibilityLabel:e,color:t,count:n,icon:s,iconSize:l}){let a=n<100?`${n}`:"99+";return(0,i.jsxs)(o.xu,{position:"relative",children:[(0,i.jsx)(o.JO,{accessibilityLabel:e,color:t,icon:s,size:l}),n>0&&(0,i.jsx)(o.xu,{alignItems:"center",color:"primary",dangerouslySetInlineStyle:{__style:{right:-6-2*a.length,top:-8,padding:`0 ${3===a.length?"2px":"3px"} 0 2px`}},display:"flex",height:18,justifyContent:"center",minWidth:18,position:"absolute",rounding:"pill",children:(0,i.jsx)(o.xv,{align:"center",color:"inverse",size:"100",weight:"bold",children:(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{padding:"0 0 1px 1px"}},children:a})})})]})}},858128:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(883119),i=n(785893);let s=({height:e,width:t,text:n,isAbsolute:s})=>(0,i.jsx)(o.xu,{alignItems:"center",color:"primary",dangerouslySetInlineStyle:{__style:{padding:"0 3px 0 2px"}},display:"flex",height:e,justifyContent:"center",position:s?"absolute":void 0,rounding:"pill",width:t,children:(0,i.jsx)(o.xv,{align:"center",color:"inverse",size:"100",weight:"bold",children:(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{padding:"0 0 1px 1px"}},children:n||""})})})},201700:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(88682),i=n(598228);function s({isAdsSite:e,isAnalyticsSite:t,isTrendsSite:n,path:s,advertiserId:l}){let a=e||t||n?`${i.C0}`:"",r=`${a}${s}`;return l?(0,o.Z)(r,{advertiserId:l}):r}},222881:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(494125),i=n(239821);function s({children:e}){let{setAppFocusState:t}=(0,i.I)();return(0,o.Z)(()=>(t(!1),()=>{t(!0)})),e}},785059:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(340523),i=n(446653),s=n(998577);let l=()=>{let{checkExperiment:e}=(0,o.F)(),t=(0,i.K)(),{activeProfile:n}=t||{},l=e("web_m10n_business_access_orbac_www").anyEnabled,a=(0,s.Z)(t?.profiles||[]),{anyEnabled:r}=e("useorbacroutematcher_in_useorbacactingas");return l&&(!r||a)&&n&&(n.viewerMeetsMfaRequirement||(n.permissions||[]).includes("OWNER"))?n:Object.freeze({})}},199677:(e,t,n)=>{n.d(t,{D3:()=>c,DX:()=>a,KY:()=>u,Ms:()=>o,N1:()=>d,_P:()=>l,lJ:()=>s,nl:()=>i,q6:()=>r});let o=(e,t)=>{let n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},i=(e,t)=>!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),s=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",l=(e,t,n)=>n&&n.user&&t&&t.isAuth&&n.id!==t.id?n.user.merchantId:e.advertiser?.merchant_id,a=(e,t,n)=>n&&n.user&&e.isAuth&&n.id!==e.id?n.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,r=(e,t,n)=>!!(e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t),c=(e,t,n)=>!!(r(e,t,n)||e&&e.isAuth&&t===e.id),u=(e,t,n)=>c(e,t&&t.owner&&t.owner.id||"",n);function d(e,t,n){return c(e,t?t.id:"",n)}},58120:(e,t,n)=>{n.d(t,{Z:()=>u});var o=n(240684),i=n(883119),s=n(65775),l=n(140017),a=n(674e3),r=n(785893);let c=(0,o.ZP)({resolved:{},chunkName:()=>"FullPageSignup",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(97270),n.e(16458)]).then(n.bind(n,106110)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return n(this.resolve(e))},resolve:()=>106110});function u(e){let t=(0,l.ZP)();return(0,r.jsx)(a.Z,{onCloseClick:()=>{e.onClose&&e.onClose()},renderContent:()=>(0,r.jsx)(i.xu,{"data-test-id":"account-switcher-modal",display:"flex",flex:"grow",justifyContent:"center",children:(0,r.jsx)(c,{attributionLabel:e.attributionLabel,container:e.container,customLoginTagline:e.customTaglineText||t.bt("Agregar cuenta", "Add account", "Short text on the button that allows a user to log in to another Pinterest account", undefined, true),fallback:(0,r.jsx)(s.Z,{}),hideAccountSwitchValueProp:e.hideAccountSwitchValueProp,isAccountSwitch:!0,signupFlow:{type:"login",email:e.email},signupSource:"login"})})})}},311694:(e,t,n)=>{n.d(t,{T:()=>c,g:()=>r});var o=n(667294),i=n(342513),s=n(58120),l=n(785893);let{Provider:a,useHook:r}=(0,i.Z)("AccountSwitcherLoginModal");function c({children:e}){let[t,n]=(0,o.useState)(!1),[i,r]=(0,o.useState)(""),[c,u]=(0,o.useState)(""),d=(0,o.useCallback)((e,t)=>{u(e),t&&r(t),n(!0)},[]),h=(0,o.useMemo)(()=>({showAccountSwitcherLoginModal:d}),[d]);return(0,l.jsxs)(o.Fragment,{children:[(0,l.jsx)(a,{value:h,children:e}),t&&(0,l.jsx)(s.Z,{container:c,email:i??"",onClose:()=>n(!1)})]})}},674e3:(e,t,n)=>{n.d(t,{Z:()=>_});var o=n(883119),i=n(140017),s=n(406893),l=n(623409),a=n(785893);let r=`
.AccountSwitcherModal {
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
}
`,c={backgroundColor:"rgba(0, 0, 0, 0.6)",opacity:1,position:"fixed",top:"0px",bottom:"0px",left:"0px",right:"0px",zIndex:1e3},u={WebkitOverflowScrolling:"touch",overflowY:"scroll",bottom:"0px",left:"0px",right:"0px",top:"0px",position:"fixed",WebkitBoxOrient:"vertical",WebkitBoxDirection:"normal",WebkitFlexDirection:"column",msFlexDirection:"column",flexDirection:"column",WebkitJustifyContent:"space-around",msFlexPack:"distribute",justifyContent:"space-around"},d={display:"flex",minHeight:"0px",position:"relative",opacity:1,borderRadius:"6px",margin:"0 auto"},h={overflow:"hidden",position:"fixed",right:"24px",top:"24px"};function _(e){let t=(0,i.ZP)(),n=(0,l.Z)(),{renderContent:_}=e;return(0,a.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:c},children:[(0,a.jsx)(s.Z,{unsafeCSS:r}),(0,a.jsx)("div",{className:"AccountSwitcherModal",onClick:()=>{n({action:"click",item:"wash-button",within:"account-switcher-modal"});let{onCloseClick:t}=e;t()},role:"dialog",style:u,children:(0,a.jsxs)("div",{onClick:e=>{e.stopPropagation()},role:"dialog",style:d,children:[_(),(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:h},children:(0,a.jsx)(o.hU,{accessibilityLabel:t.bt("cerrar", "close", "accessible label for close button", undefined, true),bgColor:"transparent",icon:"cancel",iconColor:"white",onClick:()=>{n({action:"dismiss",item:"close-button",within:"account-switcher-modal"});let{onCloseClick:t}=e;t()}})})]})})]})}},845509:(e,t,n)=>{n.r(t),n.d(t,{Header:()=>K,default:()=>X});var o=n(667294),i=n(616550),s=n(883119),l=n(690601),a=n(334589),r=n(406718),c=n(568803),u=n(920434),d=n(619370),h=n(705079),_=n(140017),p=n(96157),m=n(729817),g=n(340523),f=n(5859),x=n(193163),b=n(623409),v=n(624797),y=n(794109),w=n(495716),j=n(214877),A=n(401429),P=n(97630),k=n(785893);let S=({isSelected:e})=>{let t=(0,_.ZP)(),{logContextEvent:n}=(0,j.v)(),l=(0,r.Z)(!0),c=(0,o.useRef)(null),u=(0,o.useRef)(null),[d,h]=(0,o.useState)(!1),p=(0,i.k6)(),m=e=>{n({event_type:101,component:13988,element:e}),h(!1)};return(0,k.jsxs)(o.Fragment,{children:[(0,k.jsx)(s.xu,{ref:c,"data-test-id":"create-tab",children:(0,k.jsx)(P.Z,{contextData:{event:101,component:8,element:12969},iconEnd:l?void 0:"arrow-down",isSelected:e,onClick:e=>{l?(n({event_type:101,component:13988,element:10949}),e.preventDefault(),p.push({pathname:(0,a.Z)(l),state:{entry_type:"navbar_plus_button"}})):h(e=>!e)},role:l?"link":"button",text:t.bt("Crear", "Create", "header.section.createTab", undefined, true)})}),c&&(0,k.jsx)(A.Z,{eligibleIds:[504669],eligibleTypes:[8],placementId:1000109,children:({complete:e,dismiss:t,experience:n})=>{let{display_data:o}=n;return u.current={complete:e},o?.disappear_time&&setTimeout(()=>{t()},o.disappear_time),(0,k.jsx)(s.xu,{zIndex:new s.Ry(10),children:(0,k.jsx)(s.Li,{accessibilityLabel:"PopoverEducational",anchor:c.current,idealDirection:"down",message:o?.text,onDismiss:()=>{}})})}}),d&&(0,k.jsxs)(s.Lt,{anchor:c.current,id:"header-create-dropdown",idealDirection:"down",onDismiss:()=>{h(!1)},zIndex:new s.Ry(1e3),children:[(0,k.jsx)(s.Lt.Link,{dataTestId:"create-idea-pin",href:"/idea-pin-builder/",onClick:()=>m(10949),option:{value:"ideaPin",label:t.bt("Crear un Idea Pin", "Create Idea Pin", "header.headerCreateMenu.ideaPinBtn", undefined, true)}}),(0,k.jsx)(s.Lt.Link,{dataTestId:"create-static-pin",href:"/pin-builder/",onClick:()=>m(10643),option:{value:"pin",label:t.bt("Crear Pin", "Create Pin", "header.headerCreateMenu.pinBtn", undefined, true)}})]})]})};var C=n(677801),z=n(32810),T=n(477458),I=n(983983);function Z({tabs:e}){let t=(0,_.ZP)(),[n,i]=(0,o.useState)(!1),{hovered:l,onMouseEnter:a,onMouseLeave:r}=(0,T.Z)(),c=(0,o.useRef)(),u=e.find(e=>e.isSelected);u||(u=e.find(e=>"home"===e.key));let d=()=>i(!1);return(0,k.jsxs)(o.Fragment,{children:[(0,k.jsx)(s.xu,{ref:c,color:n?"dark":l?"secondary":void 0,"data-test-id":"HeaderCollapsedTabs",display:"inlineBlock",flex:"none",height:48,marginStart:2,minWidth:60,onMouseEnter:a,onMouseLeave:r,rounding:6,children:(0,k.jsx)(s.iP,{fullHeight:!0,onTap:()=>i(!n),rounding:6,children:(0,k.jsxs)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{padding:"14px 14px",whiteSpace:"nowrap"}},display:"flex",flex:"none",justifyContent:"center",children:[(0,k.jsx)(s.xv,{align:"center",color:n?"inverse":"default",overflow:"normal",weight:"bold",children:u?.text}),(0,k.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"1px"}},marginStart:2,children:(0,k.jsx)(s.JO,{accessibilityLabel:t.bt("Abrir el menú de pestañas", "Open tab menu", "header.tabMenu.downArrow", undefined, true),color:n?"inverse":"default",icon:"arrow-down",size:12})})]})})}),n&&(0,k.jsx)(s.xu,{"data-test-id":"HeaderCollapsedTabsMenu",children:(0,k.jsx)(s.Lt,{anchor:c.current,disableMobileUI:!0,id:"HeaderCollapsedTabsMenu",onDismiss:d,zIndex:new s.H3([new s.Ry(I.fe)]),children:e.map(({isSelected:e,key:n,text:o,url:i})=>(0,k.jsx)(s.Lt.Link,{href:i,onClick:d,option:{value:n,label:o},children:(0,k.jsxs)(s.kC,{alignItems:"center",width:"100%",children:[(0,k.jsx)(s.kC.Item,{flex:"grow",children:(0,k.jsx)(s.xv,{weight:"bold",children:o})}),(0,k.jsx)(s.JO,{accessibilityLabel:t.bt("Opción seleccionada", "Selected option", "flyoutMenu.selectedOptionCheckmark", undefined, true),color:"default",icon:e?"check":void 0,inline:!0})]})},n))})})]})}var L=n(4058),E=n(587703),R=n(249150),B=n(598228),M=n(149722);function O({headerIconExperience:e,isWwwSite:t=!0,onClick:n,url:i}){let l=(0,_.ZP)(),a=(0,M.Z)(),r=(0,E.Z)(),[c,u]=(0,o.useState)(null),d=()=>{r({component:8,element:244,event_type:101}),n&&n()},h=t?"/":B.C0;a.partner&&(h=t?"/":B.Ag);let p=t&&i?i:h;return(0,k.jsx)(R.Z,{anchor:".pinLogo",anchorElementRef:c,experience:e,onCompleteClick:d,children:(0,k.jsx)(s.I_,{ref:e=>{null===e||c||u(e)},accessibilityLabel:l.bt("Inicio", "Home", "header.homeButton.section", undefined, true),href:p,icon:"pinterest",iconColor:"brandPrimary",onClick:d,padding:3,size:"xl",tabIndex:-1})})}var D=n(757640);function N({children:e,isSelected:t}){let{isLoaded:n,data:o}=(0,D.Z)({name:"ApiResource",options:{url:"/v3/feeds/homefeed/badge/"},noCache:!0});return e(!!(n&&o)&&!t)}function H({anchor:e}){let t=(0,_.ZP)();return(0,k.jsx)(s.Li,{anchor:e,idealDirection:"down",message:t.bt("En tu feed de inicio verás ideas de tus nuevos intereses", "Your home feed will show ideas for your new interests", "Flyout message on Pinterest logo on Header", undefined, true),onDismiss:()=>{}})}var F=n(249222),U=n(509474),$=n(433058),W=n(454051);function q({isSelected:e}){let t=(0,_.ZP)();(0,$.Z)({component:8,element:11674});let n=t.bt("Explorar", "Explore", "header.section.exploreTab", undefined, true);return(0,k.jsx)(P.Z,{contextData:{event:101,component:8,element:11674},dataTestId:"today-tab",isSelected:e,showNotifBadge:!0,text:n,url:(0,W.tG)()})}var V=n(948194),Y=n(909846),J=n(917198);function G(e,t,n){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:String(o))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class K extends o.Component{constructor(e){super(e),G(this,"mounted",!1),G(this,"iconRoutes",{bag:"shop_pins",explore:"discover",home:"/",profile:this.props.viewer.username,search:"search",today:"today",create:this.props.isIdeaPinRenamingEnabled?"pin-creation-tool":"idea-pin-builder"}),G(this,"logoButtonRef",(0,o.createRef)()),G(this,"profileRef",(0,o.createRef)()),G(this,"getCollapsedTabList",()=>[{key:"home",text:this.props.i18n.bt("Inicio", "Home", "header.homeButton.section", undefined, true),url:"/"},...this.props.isTodayTabEligible?[{key:"explore",text:this.props.i18n.bt("Explorar", "Explore", "header.section.exploreTab", undefined, true),url:(0,W.tG)()}]:[],{key:"create",text:this.props.i18n.bt("Crear", "Create", "header.section.createTab", undefined, true),url:(0,a.Z)(this.props.isIdeaPinRenamingEnabled)}]),G(this,"getSubpage",e=>{if("/"===e||""===e)return"home";let t=e.split("/",2)[1];if(t&&this.iconRoutes){for(let e of Object.keys(this.iconRoutes))if(t===this.iconRoutes[e])return e}return null}),G(this,"handleResize",(0,u.Z)(()=>{if(this.mounted){let e=document.getElementById("searchBoxContainer")?.offsetWidth||0;this.setState({searchIconOnly:e<=300}),window.innerWidth<850&&this.props.requestContext?this.setState({shrinkSearchbox:!0}):this.state.shrinkSearchbox&&this.setState({searchIconOnly:!1,shrinkSearchbox:!1})}},100)),G(this,"fetchUserAccounts",()=>{let{userAccountsRetrieved:e,viewer:t}=this.props;t.isAuth&&(0,m.dD)(t).then(t=>{e(t)})}),this.state={headerIconExperience:null,searchIconOnly:!1,selected:this.getSubpage(e.location.pathname),showLeftTabs:!0,showToolTip:!1,shrinkSearchbox:!1}}componentDidMount(){let{headerButtonContext:e}=this.props;this.mounted=!0,this.fetchUserAccounts(),this.handleResize(),window.addEventListener("resize",this.handleResize),(0,o.startTransition)(()=>{e.setLogoButtonRef(this.logoButtonRef.current)})}componentDidUpdate(e){let{location:t,showToolTipExp:n}=this.props;if(e.location.pathname!==t.pathname){let e=this.getSubpage(t.pathname);this.setState({selected:e})}e.showToolTipExp===n||this.state.showToolTip||this.setState({showToolTip:!0})}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),this.mounted=!1}renderButtons(){let{currentSite:e,headerButtonContext:t,history:n,isPersistentArrUpsellEnabled:i}=this.props,{headerIconExperience:l,selected:a,searchIconOnly:r,showLeftTabs:c,showToolTip:u,shrinkSearchbox:_}=this.state;return(0,k.jsxs)(s.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,k.jsxs)(s.xu,{children:[(0,k.jsx)(s.xu,{ref:this.logoButtonRef,"aria-hidden":!0,children:(0,k.jsx)(O,{headerIconExperience:l},"HomeButton")}),u&&(0,k.jsx)(d.default,{anchor:this.logoButtonRef.current,experienceIds:[500613],noClickToDismiss:!0,placementId:19,shouldTimeoutDismiss:!0}),t.isTooltipOnLogoButtonShown&&(0,k.jsx)(H,{anchor:this.logoButtonRef.current})]}),!_&&c&&(0,k.jsxs)(o.Fragment,{children:[(0,k.jsx)(N,{isSelected:"home"===a,children:e=>(0,k.jsx)(P.Z,{dataTestId:"home-tab",isSelected:"home"===a,showNotifBadge:e,text:this.props.i18n.bt("Inicio", "Home", "header.homeButton.section", undefined, true),url:"/"})}),this.props.isTodayTabEligible&&(0,k.jsx)(q,{isSelected:"today"===a}),(0,k.jsx)(S,{isSelected:"create"===a})]}),_&&c&&(0,k.jsx)(Z,{tabs:this.getCollapsedTabList().map(e=>({isSelected:a===e.key,...e}))}),!!n?.push&&(0,k.jsx)(w.Z,{handleIconOnlyChange:e=>this.setState({showLeftTabs:r&&e}),iconOnly:r,widthType:_?"shrink":void 0}),(0,k.jsxs)(s.xu,{alignItems:"center","data-test-id":"button-container",display:"flex",children:[(0,k.jsx)(U.F,{value:{currentSite:e},children:(0,k.jsx)(V.Z,{})}),(0,k.jsxs)(o.Fragment,{children:[(0,k.jsx)(s.xu,{ref:this.profileRef,children:(0,k.jsx)(F.Z,{children:(0,k.jsx)(C.Z,{isSelected:"profile"===a})})}),(0,k.jsx)(h.Z,{currentSite:e,isPersistentArrUpsellEnabled:i})]})]})]})}renderHomeButtonAndAccountSwitcher(){let{currentSite:e,headerButtonContext:t,isPersistentArrUpsellEnabled:n}=this.props,{headerIconExperience:i,selected:l,showToolTip:a}=this.state;return(0,k.jsxs)(s.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,k.jsxs)(s.xu,{children:[(0,k.jsx)(s.xu,{ref:this.logoButtonRef,"aria-hidden":!0,children:(0,k.jsx)(O,{headerIconExperience:i},"HomeButton")}),a&&(0,k.jsx)(d.default,{anchor:this.logoButtonRef.current,experienceIds:[500613],noClickToDismiss:!0,placementId:19,shouldTimeoutDismiss:!0}),t.isTooltipOnLogoButtonShown&&(0,k.jsx)(H,{anchor:this.logoButtonRef.current})]}),(0,k.jsx)(s.xu,{flex:"grow"}),(0,k.jsx)(s.xu,{alignItems:"center","data-test-id":"button-container",display:"flex",children:(0,k.jsxs)(o.Fragment,{children:[(0,k.jsx)(s.xu,{ref:this.profileRef,children:(0,k.jsx)(F.Z,{children:(0,k.jsx)(C.Z,{isSelected:"profile"===l})})}),(0,k.jsx)(h.Z,{currentSite:e,isPersistentArrUpsellEnabled:n})]})})]})}renderSsoPageHeader(){let{headerIconExperience:e}=this.state,{i18n:t}=this.props;return(0,k.jsxs)(s.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,k.jsx)(s.xu,{ref:this.logoButtonRef,"aria-hidden":!0,children:(0,k.jsx)(O,{headerIconExperience:e},"HomeButton")}),(0,k.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{letterSpacing:"-1px"}},children:(0,k.jsx)(s.X6,{accessibilityLevel:2,color:"default",overflow:"normal",size:"400",children:t.bt("Empresa", "Business", "authHeader.logoText.business", undefined, true)})})]})}renderUnsubscribePageHeader(){let{headerIconExperience:e}=this.state,{history:t,i18n:n,trackInteraction:o}=this.props;return(0,k.jsxs)(s.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,k.jsx)(s.xu,{children:(0,k.jsx)(O,{headerIconExperience:e},"HomeButton")}),(0,k.jsx)(s.xu,{flex:"grow"}),(0,k.jsx)(s.xu,{alignItems:"center","data-test-id":"button-container",display:"flex",children:(0,k.jsx)(s.iP,{onTap:()=>{t.push("/"),o({action:"click",item:"back-to-pinterest",within:"unsubscribe-page"})},rounding:2,tapStyle:"compress",children:(0,k.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[(0,k.jsx)(s.xv,{inline:!0,size:"300",weight:"bold",children:n.bt("Volver a Pinterest", "Back to Pinterest", "header.backToPinterest.section", undefined, true)}),(0,k.jsx)(C.Z,{isSelected:!1,noNavigation:!0})]})})})]})}renderHeaderContent(){let{location:e,viewer:t,isOnSsoAuthExp:n}=this.props;if((0,p.RU)(e)){let t=(0,v.mB)(e.search);if((0,c.Z)(t))return this.renderHomeButtonAndAccountSwitcher()}else if((0,p.OK)(e)&&t.isLimitedLogin)return this.renderUnsubscribePageHeader();else if(n&&(0,p.nU)(e))return this.renderSsoPageHeader();return this.renderButtons()}render(){let{headerShadowContext:{isScrolled:e,subheaderShadow:t},nags:n,showCloseupTopOneBar:o}=this.props;return(0,k.jsxs)(s.xu,{color:"default",column:12,"data-test-id":"header-background",children:[n,(0,k.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{...null===t&&e&&!o?I.Rz:{}}},children:(0,k.jsx)(s.kC,{direction:"column",height:I.cI,justifyContent:"start",width:"100%",children:(0,k.jsx)(s.xu,{alignItems:"center",column:12,display:"flex",flex:"grow",paddingX:4,paddingY:1,children:this.renderHeaderContent()})})})]})}}function X(e){let t=(0,_.ZP)(),n=(0,J.X2)(),o=(0,f.B)(),{checkExperiment:s}=(0,g.F)(),{userAccountsRetrieved:a}=(0,y.N)(),c=(0,b.Z)(),u=(0,Y.t)(),{showTopOneBar:d}=(0,l.S)(),{isFbAuthOnlyUser:h}=u;s("social_growth_holdout_2023_h2"),s("social_experience_holdout_2024_h1"),s("social_experience_holdout_2024_h2");let p=(0,r.Z)(!0),m=(0,x.bl)(),v=n&&Object.keys(n).map(e=>n[e]).filter(e=>e.showTooltip).length>0;return(0,k.jsx)(K,{...e,headerButtonContext:(0,z.p)(),headerShadowContext:(0,L.WQ)(),history:(0,i.k6)(),i18n:t,isIdeaPinRenamingEnabled:p,isOnSsoAuthExp:s("web_sso_auth_enabled").anyEnabled,isPersistentArrUpsellEnabled:h,isTodayTabEligible:m,location:(0,i.TH)(),requestContext:o,showCloseupTopOneBar:d,showPersonalBoutique:e.viewer.show_personal_boutique??!1,showToolTipExp:v,trackInteraction:c,userAccountsRetrieved:a})}},677801:(e,t,n)=>{n.d(t,{Z:()=>b});var o=n(667294),i=n(883119),s=n(205841),l=n(140017),a=n(263148),r=n(340370),c=n(340523),u=n(5859),d=n(201700),h=n(477458),_=n(149722),p=n(164212),m=n(983983),g=n(563366),f=n(785893);function x({children:e,show:t,text:n}){return t?(0,f.jsx)(i.u,{accessibilityLabel:"",text:n,zIndex:new i.H3([new i.Ry(m.fe)]),children:e}):e}function b({isAdsSite:e=!1,isAnalyticsSite:t=!1,isTrendsSite:n=!1,isSelected:m,noNavigation:b=!1}){let v=(0,_.Z)(),{checkExperiment:y}=(0,c.F)(),w=(0,u.B)(),j=(0,l.ZP)(),{active:A,hovered:P,onBlur:k,onFocus:S,onMouseDown:C,onMouseUp:z,onMouseEnter:T,onMouseLeave:I}=(0,h.Z)(),{fullName:Z,username:L,imageMediumUrl:E,isPartner:R}=v.isAuth?v:{fullName:"",username:"",imageMediumUrl:"",isPartner:void 0},{isInBiznuxFullscreen:B}=(0,p.J)(),M=(0,o.useRef)(null),O=(0,d.Z)({isAdsSite:e,isAnalyticsSite:t,isTrendsSite:n,path:`/${L}/`,requestContext:w}),D=(0,d.Z)({isAdsSite:e,isAnalyticsSite:t,isTrendsSite:n,path:`/${L}/${g.Z}/`,requestContext:w}),N=(0,r.Z)({href:O,onHistoryChange:a.Jd}),H=(0,r.Z)({href:D,onHistoryChange:a.Jd});return B||b?(0,f.jsx)(i.xu,{"data-test-id":"header-profile",height:48,rounding:"circle",width:48,children:(0,f.jsx)(i.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:(0,f.jsx)(i.xu,{alignItems:"center",display:"flex",height:30,justifyContent:"center",rounding:"circle",width:30,children:(0,f.jsx)(s.qE,{name:Z,size:"xs",src:E})})})}):(0,f.jsx)(i.xu,{"data-test-id":"header-profile",children:(0,f.jsx)(x,{show:![e,t,n].some(Boolean),text:j.bt("Tu perfil", "Your profile", "navbar.avatarButton.tooltip", undefined, true),children:(0,f.jsx)(i.Tg,{href:O,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),v.isAuth&&!R&&y("web_retrieval_hub_profile_split_").anyEnabled?H({event:e}):N({event:e})},rounding:"circle",children:(0,f.jsx)(i.xu,{ref:M,color:P?"secondary":void 0,height:48,onBlur:k,onFocus:S,onMouseDown:C,onMouseEnter:T,onMouseLeave:I,onMouseUp:z,rounding:"circle",width:48,children:(0,f.jsx)(i.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:(0,f.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...A||m?{border:"2px solid #111111"}:{}}},display:"flex",height:30,justifyContent:"center",rounding:"circle",width:30,children:(0,f.jsx)(s.qE,{name:Z,size:"xs",src:E})})})})})})})}},418739:(e,t,n)=>{n.d(t,{Z:()=>c});var o=n(667294),i=n(883119),s=n(214877),l=n(249150),a=n(785893);let r=({anchorElementRef:e,children:t,experienceAnchor:n})=>n?(0,a.jsx)(l.Z,{anchor:".HomeButton2",anchorElementRef:e.current,containerBoxConfig:{display:"flex",height:"100%"},children:t}):t,c=({accessibilityLabel:e,compactMode:t,icon:n,rightIcon:l,selected:c,text:u,type:d="link",url:h,contextData:_,onClick:p})=>{let{logContextEvent:m}=(0,s.v)(),[g,f]=(0,o.useState)("transparent"),x=(0,o.useRef)(null),b=()=>{f("secondary")},v=()=>{f("transparent")},y=()=>{f("transparent")},w=()=>{f("secondary")},j=e=>{if(_){let{event:e,component:t,element:n}=_;m({event_type:e,component:t,element:n})}p&&p(e)},A=(0,a.jsx)(i.iP,{accessibilityLabel:e,onBlur:y,onFocus:w,onMouseEnter:b,onMouseLeave:v,onTap:({event:e})=>j(e),rounding:"circle",children:(0,a.jsx)(i.xu,{alignItems:"center",color:g,display:"flex",height:48,justifyContent:"center",rounding:"circle",width:48,children:n})});if(l||"link"!==d||!h||t){if("link"===d&&(t&&n||l)){let o,s,r="pill";r=n||l?u&&!t?"pill":"circle":"pill",n&&(o=n),l&&(s=l);let d=u instanceof Object?u:(0,a.jsx)(i.xv,{color:c?"default":"subtle",overflow:"normal",size:"200",weight:"bold",children:u});A=(0,a.jsx)(i.Tg,{accessibilityLabel:e,href:h||"",onBlur:y,onFocus:w,onMouseEnter:b,onMouseLeave:v,onTap:({event:e})=>j(e),rounding:r,children:(0,a.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[o,!!u&&!t&&(0,a.jsx)(i.xu,{paddingX:2,children:d}),s]})})}}else A=(0,a.jsx)(r,{anchorElementRef:x,experienceAnchor:"/"===h?".HomeButton2":"",children:(0,a.jsx)(i.Tg,{ref:x,accessibilityLabel:e,href:h,onBlur:y,onFocus:w,onMouseEnter:b,onMouseLeave:v,onTap:({event:e})=>j(e),rounding:"pill",children:(0,a.jsx)(i.xu,{color:g,paddingX:4,paddingY:4,rounding:"pill",children:(0,a.jsx)(i.xv,{color:c?"default":"subtle",overflow:"normal",weight:"bold",children:u})})})});return(0,a.jsx)(i.xu,{position:"relative",children:A})}},249222:(e,t,n)=>{n.d(t,{Z:()=>f});var o=n(667294),i=n(883119),s=n(406893),l=n(164212),a=n(19447),r=n(785893);function c(e,t,n){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:String(o))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let u="SavePin",d={__style:{left:"50%",marginLeft:-125}},h={__style:{animationName:`${u}_AnimateIn, ${u}_CircleAnimateOut`,animationDuration:"0.3s, 0.25s",animationDelay:"0.5s, 1.3s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(255, 255, 255, 0.6)"}},_={__style:{animationName:`${u}_AnimateIn, ${u}_AnimateOut`,animationDuration:"0.3s, 0.35s",animationDelay:"0.5s, 1.55s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",border:"4px solid white"}},p={__style:{animationName:`${u}_NavButtonAnimation`,animationDuration:"0.8s",animationDelay:"1.65s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}},m=()=>`
@keyframes ${u}_AnimateIn {
  from {
    transform: scale(0.0);
    opacity: 0;
  }
  to {
    opacity: 1;
    transform: scale(1.0);
  }
}
@keyframes ${u}_CircleAnimateOut {
  from {
    transform: scale(1.0);
    opacity: 1;
  }
  to {
    transform: scale(0.8);
    opacity: 0;
  }
}
@keyframes ${u}_AnimateOut {
  from {
    transform: translateY(0) scale(1.0);
    opacity: 1;
  }
  to {
    transform: translateY(-100px) scale(0.0);
    opacity: 0;
  }
}
@keyframes ${u}_NavButtonAnimation {
  0% {
    transform: scale(1.0);
  }
  50% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1.0);
  }
}
`;class g extends o.Component{constructor(...e){super(...e),c(this,"state",{imageLoaded:!1}),c(this,"handleAnimationCompletion",()=>{let{animationEnded:e}=this.props;this.setState({imageLoaded:!1},()=>{e()})}),c(this,"handleImageLoad",()=>{this.setState({imageLoaded:!0})}),c(this,"loadImage",()=>{let e=new Image;e.onload=this.handleImageLoad,e.src=this.imageSrc()}),c(this,"imageSrc",()=>{let{images:e={}}=this.props.lastRepin||{};return e["236x"]?.url??""}),c(this,"shouldRenderAnimation",()=>{let{lastRepin:e,startAnimation:t}=this.props,{imageLoaded:n}=this.state;return!!(e&&n&&t)})}componentDidUpdate(e,t){let{lastRepin:n={}}=e,{imageLoaded:o}=t,{lastRepin:i,startAnimation:s}=this.props,{imageLoaded:l}=this.state;i&&i.id!==n?.id&&this.loadImage(),s&&l&&l!==o&&(this.dismissTimeout=setTimeout(this.handleAnimationCompletion,2500))}componentWillUnmount(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}render(){let{children:e}=this.props;return this.shouldRenderAnimation()?(0,r.jsxs)(i.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:[(0,r.jsx)(s.Z,{unsafeCSS:m()}),(0,r.jsxs)(i.xu,{position:"relative",children:[(0,r.jsxs)(i.xu,{dangerouslySetInlineStyle:d,height:250,position:"absolute",top:!0,width:250,children:[(0,r.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:h,display:"flex",height:"100%",justifyContent:"center",opacity:0,rounding:"circle",width:"100%"}),(0,r.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:_,height:100,left:!0,margin:"auto",opacity:0,position:"absolute",right:!0,rounding:3,top:!0,width:100,children:(0,r.jsx)(i.zd,{height:"100%",rounding:2,wash:!0,width:"100%",children:(0,r.jsx)(i.Ee,{alt:"pin-image",fit:"cover",naturalHeight:1,naturalWidth:1,src:this.imageSrc()})})})]}),(0,r.jsx)(i.xu,{dangerouslySetInlineStyle:p,children:e})]})]}):e}}function f(e){let{repinPinId:t,repinStartAnimation:n,updateHeaderState:o}=(0,l.J)(),i=(0,a.S6)(),s=t?i(t):null;return(0,r.jsx)(g,{...e,animationEnded:()=>o({type:"hideRepinAnimation"}),lastRepin:s,startAnimation:n})}},509474:(e,t,n)=>{n.d(t,{F:()=>o,j:()=>i});let{Provider:o,useHook:i}=(0,n(342513).Z)("SiteParametersContextType")},162383:(e,t,n)=>{n.d(t,{Jo:()=>u,mv:()=>h,nJ:()=>d});var o=n(667294),i=n(342513);let s={hiddenNews:{}};function l(e=s,t){if("HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS"===t.type){let{payload:{id:n,isHidden:o}}=t;return{hiddenNews:{...e.hiddenNews,[n]:o}}}return e}var a=n(785893);let{Provider:r,useHook:c}=(0,i.Z)("HiddenNews");function u({children:e}){let[t,n]=(0,o.useReducer)(l,s),i=(0,o.useMemo)(()=>({dispatch:n,hiddenNews:t}),[n,t]);return(0,a.jsx)(r,{value:i,children:e})}function d(){let{dispatch:e,hiddenNews:{hiddenNews:t}}=c();return(0,o.useMemo)(()=>({updateNewsIdToHiddenNews:(t,n)=>{e({type:"HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS",payload:{id:t,isHidden:n}})},getShownNewsCount:e=>e.filter(e=>!(e.id in t&&t[e.id])).length}),[e,t])}function h(){let{hiddenNews:e}=c();return e}},940404:(e,t,n)=>{n.d(t,{AI:()=>D,AM:()=>y,AY:()=>K,C:()=>et,Cc:()=>r,DX:()=>I,GO:()=>M,HJ:()=>l,Hj:()=>_,I2:()=>F,IV:()=>i,J0:()=>f,LL:()=>ee,OBJECT_TYPE:()=>o,P:()=>P,P3:()=>g,QE:()=>ei,QX:()=>en,Rd:()=>A,So:()=>b,V$:()=>d,Vp:()=>q,WC:()=>C,ZH:()=>E,aE:()=>m,c4:()=>k,cU:()=>S,ci:()=>z,di:()=>H,f_:()=>h,gb:()=>X,gs:()=>B,hD:()=>$,hf:()=>N,hp:()=>O,hy:()=>s,ie:()=>x,kJ:()=>G,kc:()=>j,mD:()=>W,mM:()=>T,os:()=>c,pv:()=>u,qZ:()=>w,qb:()=>v,ti:()=>Q,uW:()=>R,uZ:()=>a,uy:()=>V,vG:()=>Y,wA:()=>p,wl:()=>U,yS:()=>eo,yc:()=>L,ys:()=>J,zM:()=>Z});let o={BOARD:"board",DID_IT:"userdiditdata",INTEREST:"interest",PIN:"pin",SEARCH:"news_hub_search",STORY:"story",USER:"user"},i=3,s=360,l=375,a=64,r=36,c=36,u=44,d=344,h=328,_=8,p=164,m=328,g=164,f=108.7,x=3,b=82,v=82,y=164,w=164,j=4,A=164,P=164,k=2,S=82,C=164,z=2,T=2,I=4,Z=328,L="290x",E="170x",R={backgroundColor:"rgba(0, 0, 0, 0.4)"},B=4,M="1px",O=48,D=32,N=36,H="136x136",F=2,U=24,$=20,W=72,q=48,V=54,Y=54,J=4,G=118,K=236,X={BASIC:0,TEXT:1,ROW_WITH_COUNT:2,MINI_PIN_GRID:4,ROW_WITH_COUNT_2:10,MINI_PIN_GRID_2:11,MINI_BOARD_GRID:12,MINI_USER_GRID:13,MINI_SEARCH_GRID:14,MINI_INTEREST_GRID:15,MINI_BOARD_GRID_WITH_ICON:18},Q=e=>"31"==`${String(e)}`,ee="recommendation",et="dropdown_item_settings_id",en=10,eo=20,ei=5e3},948194:(e,t,n)=>{n.d(t,{Z:()=>X});var o,i=n(667294),s=n(149722),l=n(616550),a=n(883119),r=n(510989),c=n(140017),u=n(96157),d=n(608516),h=n(624797),_=n(161672),p=n(595731),m=n(418739),g=n(785893);function f({badgeCount:e=0,icon:t="speech-ellipsis",onClick:n,selected:o=!1}){let i=(0,c.ZP)(),s={bell:i.bt("Notificaciones", "Notifications", " - ", undefined, true),"speech-ellipsis":i.bt("Mensajes", "Messages", " - ", undefined, true)};return(0,g.jsx)(m.Z,{accessibilityLabel:s[t],contextData:{event:101,component:8,element:1187},icon:(0,g.jsx)(p.Z,{accessibilityLabel:"",color:o?"default":"subtle",count:e,icon:t,iconSize:24}),onClick:n,text:s[t],type:"button"},"NotificationsButton")}var x=n(940404),b=n(983983),v=n(162383);let y=()=>n.e(96218).then(n.bind(n,696218)),w=(0,i.lazy)(y);function j({onClearBadges:e}){let t=(0,c.ZP)(),n=(0,l.TH)(),o=(0,i.useRef)(null),[s,p]=(0,i.useState)(!1),[m,j]=(0,i.useState)(!1),[A,P]=(0,i.useState)(!1),[k,S]=(0,i.useState)(!1),{tab:C,utm_source:z,news_hub_id:T}=(0,h.mB)(n.search),{conversations:{conversationsUnseenCount:I,newsHubCount:Z}}=(0,_.Z5)(),L=e=>{if((0,u.L6)(n))return;let o=Math.max(e,0),i=t.bt("Pinterest", "Pinterest", " - ", undefined, true);window.document.title=o?`(${o}) ${i}`:i};(0,i.useEffect)(()=>{L(I+Z),n.pathname.startsWith("/notifications")&&"inbox"!==C&&p(!0)},[I,Z]);let E=(0,x.ti)(z||null),R=()=>{p(!s),e(1),L(0)};return(0,i.useEffect)(()=>{let e=setTimeout(()=>{j(s),P(s)},100);return()=>clearTimeout(e)},[s]),(0,g.jsxs)(i.Fragment,{children:[E?(0,g.jsx)(a.xu,{children:(0,g.jsx)(a.xu,{ref:o,"data-test-id":"bell-icon",onMouseEnter:y,position:"relative",children:(0,g.jsx)(f,{badgeCount:Z,icon:"bell",onClick:R,selected:s})})}):(0,g.jsx)(a.xu,{ref:o,"data-test-id":"bell-icon",onMouseEnter:y,position:"relative",children:(0,g.jsx)(a.u,{accessibilityLabel:"",text:t.bt("Notificaciones", "Notifications", "navbar.newsButton.tooltip", undefined, true),zIndex:new a.H3([new a.Ry(b.fe)]),children:(0,g.jsx)(f,{badgeCount:Z,icon:"bell",onClick:R,selected:s})})}),(0,g.jsx)(v.Jo,{children:(0,g.jsx)("div",{className:"newsHubSidebarWrapper",style:s?{opacity:1,visibility:"visible",transition:"opacity 100ms linear"}:{opacity:0,visibility:"hidden",transition:"visibility 0s 100ms, opacity 100ms linear"},children:m&&(0,g.jsx)(r.Z,{name:"SafeSuspense_AuthNewsButton_NewsHubSidebar",children:(0,g.jsx)(d.Z,{children:(0,g.jsx)(w,{handleDismissPanel:()=>{p(!1),S(!1)},highlightScrollSidebar:k,newsButton:o.current,show:A,utmNewsHubId:T||null})})})})})]})}var A=n(167912),P=n(216167),k=n(256683),S=n(757640),C=n(325362);let z=(0,k.Z)(C.Z);class T extends i.Component{constructor(...e){var t,n,o;super(...e),t="handleClearBadges",n=e=>{1===e?(P.Z.create("NewsHubBadgeResource").callDelete({showError:!1}),this.props.updateNewsHubCount(0)):(this.props.conversationBadgeCall(),this.props.updateUnreadCount(0))},(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:String(o))in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}shouldComponentUpdate(e){if(!this.props.badgeResource||!e.badgeResource)return!1;let t=this.props.badgeResource.data,n=e.badgeResource.data;return t&&n?!!["conversations_unseen_count","news_hub_count"].map(e=>t[e]!==n[e]).filter(Boolean).length:!t&&!!n}componentDidUpdate(){let{badgeResource:e,updateNewsHubCount:t,updateUnreadCount:n}=this.props;if(!(e&&e.data))return;let o=z(e.data);n(o.conversationsUnseenCount),t(o.newsHubCount)}render(){let{children:e}=this.props;return e({onClearBadges:this.handleClearBadges})}}function I({conversationBadgeCall:e,children:t}){let n=(0,S.Z)({name:"NewsHubBadgeResource",noCache:!0}),{updateNewsHubCount:o,updateUnreadCount:i}=(0,_.Z5)();return(0,g.jsx)(T,{badgeResource:n,conversationBadgeCall:e,updateNewsHubCount:o,updateUnreadCount:i,children:t})}let Z=()=>{let e=void 0!==o?o:o=n(395980),[t]=(0,A.useMutation)(e);return async()=>await new Promise((e,n)=>{t({variables:{},onCompleted:(t,o)=>{o&&n(o[0]),e(t)},onError:e=>n(e)})})};function L({children:e}){return(0,g.jsx)(I,{conversationBadgeCall:Z(),children:e})}function E({icon:e,children:t}){let[n,o]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{o(!0)},[]),n)?(0,g.jsx)(L,{children:t}):(0,g.jsx)(a.xu,{paddingX:1,children:(0,g.jsx)(a.kC,{alignItems:"center",height:48,justifyContent:"center",width:48,children:(0,g.jsx)(a.JO,{accessibilityLabel:"",color:"subtle",icon:e,size:24})})})}function R(){return(0,g.jsx)(E,{icon:"bell",children:({onClearBadges:e})=>(0,g.jsx)(j,{onClearBadges:e})})}var B=n(515278),M=n(340523),O=n(731714),D=n(494125),N=n(734513),H=n(214877),F=n(205841),U=n(406893),$=n(5859),W=n(140186);let q=(e,t,n)=>{let o=70,i=38,s=document.body?document.body.clientWidth:window.innerWidth-15;if(n){let{left:t,right:l,width:a}=n.getBoundingClientRect();e?(o=t-20,i=a/2+20-4):(o=s-l-20,i=20+a/2-4)}return`
  @keyframes fadeOut {
    0% { opacity: 1; }
    100% { opacity: 0; }
  }
  #message-notif-toast{
    position: absolute;
    top: 65px;
    ${e?"left":"right"}: ${o}px;
    animation: ${t?"fadeOut":"none"} 1000ms;
  }
  #message-notif-toast:after {
    content: '';
    position: absolute;
    top: -4px;
    ${e?"left":"right"}: ${i}px;
    width: 8px;
    height: 8px;
    background-color: rgb(17,17,17);
    clip-path: polygon(0% 0%, 100% 100%, 0% 100%);
    transform: rotate(135deg);
    border-radius: 0 0 0 3px;
  }
  `};function V({conversation:e,anchor:t}){let[n,o]=(0,i.useState)(!1),[s,l]=(0,i.useState)(!1),{dropdownOpen:r,conversationOpen:u}=(0,_.Z5)(),d=(0,c.ZP)(),{isRTL:h}=(0,$.B)(),{logContextEvent:p}=(0,H.v)();if((0,D.Z)(()=>{let t=e.last_message,n=O.Z.getItem("last_notified_message_id");t&&t.id!==n&&setTimeout(()=>{o(!0),p({event_type:13,component:14993}),O.Z.setItem("last_notified_message_id",t.id),O.Z.setItem("last_notified_message_timestamp",Date.now()),window.addEventListener("click",e=>{document.getElementById("message-notif-toast")?.contains(e.target)||o(!1)}),setTimeout(()=>{l(!0),setTimeout(()=>{l(!1),o(!1)},800)},5e3)},W.XZ)}),!e.last_message||!n)return null;let{sender:m}=e.last_message,f=m.first_name||m.username||"",x=e.last_message.pin?d.bt("te envió un Pin", "sent you a Pin", "navbar.messageNotifications.text", undefined, true):d.bt("te envió un mensaje", "sent you a message", "navbar.messageNotifications.text", undefined, true),v=(0,g.jsxs)(a.xv,{color:"light",inline:!0,children:[(0,g.jsxs)(a.xv,{color:"light",inline:!0,weight:"bold",children:[f," "]}),x]});return(0,g.jsx)(a.mh,{zIndex:new a.H3([new a.Ry(b.fe)]),children:(0,g.jsx)(a.iP,{onTap:()=>{r(),u(e.id),o(!1),p({event_type:101,component:14993})},children:(0,g.jsxs)(a.xu,{id:"message-notif-toast",children:[(0,g.jsx)(U.Z,{unsafeCSS:q(h,s,t)}),(0,g.jsxs)(a.xu,{alignItems:"center",color:"dark",display:"flex",flex:"none",justifyContent:"start",paddingX:4,paddingY:2,role:"alert",rounding:4,children:[(0,g.jsx)(a.xu,{marginEnd:3,children:(0,g.jsx)(F.qE,{name:f,size:"sm",src:m.image_large_url})}),v]})]})})})}function Y(e,t,n){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:String(o))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class J extends i.Component{constructor(...e){super(...e),Y(this,"setButtonRef",e=>{let{setInboxButton:t}=this.props;this.anchor||(this.anchor=e,t(e))}),Y(this,"clearBadges",()=>{let{onClearBadges:e}=this.props;e(2),this.updateBrowserTabTitleCount(0)}),Y(this,"handleButtonClick",e=>{let{requireAuth:t,showPanel:n,closeConversationsDropdown:o,openConversationsDropdown:i}=this.props;if(t){e&&e.stopEventPropagation(),t();return}n?o():i(),this.clearBadges(),this.onComplete&&this.onComplete()})}componentDidMount(){this.setBrowserTabTitleCountFromProps()}componentDidUpdate(){this.setBrowserTabTitleCountFromProps()}setBrowserTabTitleCountFromProps(){let{conversationsUnseenCount:e,newsHubCount:t}=this.props;this.updateBrowserTabTitleCount(e+t)}updateBrowserTabTitleCount(e){if((0,u.L6)(this.props.location))return;let{i18n:t}=this.props,n=Math.max(e,0),o=t.bt("Pinterest", "Pinterest", " - ", undefined, true);window.document.title=n?`(${n}) ${o}`:o}render(){let{conversationsUnseenCount:e,i18n:t,showPanel:n,conversationWithUnreadMesage:o}=this.props;return(0,g.jsxs)(a.xu,{ref:this.setButtonRef,position:"relative",children:[(0,g.jsx)(a.u,{accessibilityLabel:"",text:t.bt("Mensajes", "Messages", "navbar.conversationsButton.tooltip", undefined, true),zIndex:new a.H3([new a.Ry(b.fe)]),children:(0,g.jsx)(a.xu,{"data-test-id":"notifications-button",children:(0,g.jsx)(f,{badgeCount:e,icon:"speech-ellipsis",onClick:this.handleButtonClick,selected:n})})}),o&&(0,g.jsx)(V,{anchor:this.anchor,conversation:o})]})}}function G(e){let t=(0,c.ZP)(),n=(0,B.Z)(),o=(0,l.TH)(),{isAuth:i,isLimitedLogin:a}=(0,s.Z)();(0,D.Z)(()=>{i&&!a&&P.Z.create("ConversationsResource",{field_set_key:"default"}).callGet()});let{conversations:{conversationsUnseenCount:r,newsHubCount:d,showConversationsDropdown:h},dropdownClose:p,dropdownOpen:m}=(0,_.Z5)(),{checkExperiment:f}=(0,M.F)(),{setInboxButton:x}=(0,N.b)(),b=(0,_.iu)().find(e=>e.unread>0),v=(0,l.k6)(),y=(0,u.C$)(v.location),w=O.Z.getItem("last_notified_message_timestamp"),j=w&&Date.now()-Number(w)<W.VC,A=y&&!h&&!j&&b&&f("sg_dweb_app_start_msg_notif").anyEnabled;return(0,g.jsx)(J,{...e,closeConversationsDropdown:p,conversationsUnseenCount:r,conversationWithUnreadMesage:A?b:null,i18n:t,location:o,newsHubCount:d,openConversationsDropdown:m,requireAuth:n,setInboxButton:x,showPanel:h})}function K(){return(0,g.jsx)(E,{icon:"speech-ellipsis",children:({onClearBadges:e})=>(0,g.jsx)(G,{onClearBadges:e})})}function X(){let{should_show_messaging:e}=(0,s.Z)();return(0,g.jsxs)(i.Fragment,{children:[(0,g.jsx)(R,{}),e&&(0,g.jsx)(K,{})]})}},140186:(e,t,n)=>{n.d(t,{VC:()=>x,XZ:()=>f,ZP:()=>b});var o=n(616550),i=n(883119),s=n(216167),l=n(205841),a=n(454514),r=n(140017),c=n(96157),u=n(340523),d=n(731714),h=n(13848),_=n(554786),p=n(494125),m=n(149722),g=n(785893);let f=2e3,x=864e5;function b(){let e=(0,r.ZP)(),{isAuth:t,isLimitedLogin:n}=(0,m.Z)(),{checkExperiment:b}=(0,u.F)(),{showToast:v}=(0,h.F9)(),y=(0,o.k6)(),w=(0,c.C$)(y.location),j=(0,_.HG)();return(0,p.Z)(()=>{let o=async()=>{let t=s.Z.create("ConversationsResource",{field_set_key:"default"}),n=(await t.callGet()).resource_response.data.find(e=>e.unread>0),o=d.Z.getItem("last_notified_message_timestamp"),r=o&&Date.now()-Number(o)<x,c=n&&w&&!r&&b("sg_mweb_app_start_msg_notif").anyEnabled&&n.last_message,u=d.Z.getItem("last_notified_message_id");if(c&&c.id!==u){d.Z.setItem("last_notified_message_id",c.id),d.Z.setItem("last_notified_message_timestamp",Date.now());let{sender:t}=c,o=t.first_name||t.username||"",s=c.pin?e.bt("te envió un Pin", "sent you a Pin", "navbar.messageNotifications.text", undefined, true):e.bt("te envió un mensaje", "sent you a message", "navbar.messageNotifications.text", undefined, true),r=(0,g.jsxs)(i.xv,{inline:!0,children:[(0,g.jsxs)(i.xv,{inline:!0,weight:"bold",children:[o," "]}),s]});setTimeout(()=>{v(({hideToast:i})=>(0,g.jsx)(a.ZP,{duration:5e3,onHide:i,primaryAction:{accessibilityLabel:e.bt("Responder al mensaje", "Reply to the message", "NotificationToast.replyButton.accessibilityLabel", undefined, true),label:e.bt("Responder", "Reply", "NotificationToast.replyButton.buttonText", undefined, true),onClick:()=>{y.push(`/conversation/${n.id}`),i()}},text:r,thumbnail:{avatar:(0,g.jsx)(l.qE,{name:o,size:"sm",src:t.image_large_url})}}))},f)}};!t||n||j||o()}),null}},89511:(e,t,n)=>{n.d(t,{Z:()=>o});function o({user:e,viewer:t}){return!!(t.isAuth&&e?.username===t.username)}},563366:(e,t,n)=>{n.d(t,{L:()=>o,Z:()=>i});let o=506467,i="_self-profile"},728277:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(616550),i=n(757640);function s(){let{username:e}=(0,o.UO)();return(0,i.Z)(null==e?null:{name:"UserResource",options:{username:e,field_set_key:"profile"}})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/AuthDesktopHeader.es_419-4d5a7c0d0d2d558b.mjs.map